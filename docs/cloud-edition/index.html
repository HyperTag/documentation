<!DOCTYPE html><html lang="en" class=""><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="/styles.f22c9f3fc3f96e0fdd67.css" rel="stylesheet" type="text/css"/><meta name="generator" content="Gatsby 2.20.12"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">MetaRouter Documentation</title><meta data-react-helmet="true" name="description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" property="og:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="metarouter.io"/><meta data-react-helmet="true" name="twitter:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" name="twitter:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#292d66"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link as="script" rel="preload" href="/webpack-runtime-6861035cef6cf4529df9.js"/><link as="script" rel="preload" href="/framework-ae968edc9080e69820cd.js"/><link as="script" rel="preload" href="/app-c4f78aaf00ef3fb7b63b.js"/><link as="script" rel="preload" href="/styles-ccfac98b72d746365bce.js"/><link as="script" rel="preload" href="/29107295-d2b2dd71af714b3e39b3.js"/><link as="script" rel="preload" href="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js"/><link as="script" rel="preload" href="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-f31173c1348b57b8e12a.js"/><link as="script" rel="preload" href="/component---src-templates-page-js-b1464b131b7fa71a7728.js"/><link as="fetch" rel="preload" href="/page-data/cloud-edition/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="nav-list"><header><h1><a class="logo" href="/">MetaRouter Documentation</a></h1><input type="text" id="search-input" placeholder="search..."/></header><div class="scrollbox"><ul><li><a href="/">Platform Overview</a></li></ul><h2>Enterprise Edition</h2><ul data-title="enterprise-edition"><li><a href="/enterprise-edition/">Overview</a></li><li><a href="/enterprise-edition/#requirements">Requirements</a></li><li><a href="/enterprise-edition/#installation">Installation &amp; Updates</a></li><li><a href="/enterprise-edition/#config-and-management">Configuration &amp; Management</a></li></ul><h2>Enterprise Destinations</h2><ul data-title="enterprise-destinations"><li><a href="/enterprise-destinations/overview/">Overview</a></li><li><a href="/enterprise-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/enterprise-destinations/amplitude/">Amplitude</a></li><li><a href="/enterprise-destinations/blueshift/">Blueshift</a></li><li><a href="/enterprise-destinations/criteo/">Criteo</a></li><li><a href="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/enterprise-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/enterprise-destinations/google-adwords/">Google AdWords</a></li><li><a href="/enterprise-destinations/google-analytics/">Google Analytics</a></li><li><a href="/enterprise-destinations/media-math/">Media Math</a></li><li><a href="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/enterprise-destinations/pinterest-tag/">Pinterest Tag</a></li><li><a href="/enterprise-destinations/s3-event-logs/">s3 Event Logs</a></li></ul><h2>Cloud Edition</h2><ul data-title="cloud-edition"><li><a aria-current="page" class="" href="/cloud-edition/">Overview</a></li><li><a href="/cloud-edition/#cloud-api">Cloud API</a></li><li><a href="/cloud-edition/#clickstream-example">Clickstream Example</a></li><li><a href="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</a></li><li><a href="/cloud-edition/#switching-from-segment">Switching from Segment</a></li></ul><h2>Cloud Destinations</h2><ul data-title="cloud-destinations"><li><a href="/cloud-destinations/overview/">Overview</a></li><li><a href="/cloud-destinations/acquisio/">Acquisio</a></li><li><a href="/cloud-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</a></li><li><a href="/cloud-destinations/amazon-redshift/">Amazon Redshift</a></li><li><a href="/cloud-destinations/amplitude/">Amplitude</a></li><li><a href="/cloud-destinations/attribution/">Attribution</a></li><li><a href="/cloud-destinations/bloom-reach/">Bloom Reach</a></li><li><a href="/cloud-destinations/braze/">Braze</a></li><li><a href="/cloud-destinations/calq/">Calq</a></li><li><a href="/cloud-destinations/clicky/">Clicky</a></li><li><a href="/cloud-destinations/criteo/">Criteo</a></li><li><a href="/cloud-destinations/customer-io/">Customer.io</a></li><li><a href="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/cloud-destinations/drift/">Drift</a></li><li><a href="/cloud-destinations/facebook-app-events/">Facebook App Events</a></li><li><a href="/cloud-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/cloud-destinations/google-adwords/">Google AdWords</a></li><li><a href="/cloud-destinations/google-analytics/">Google Analytics</a></li><li><a href="/cloud-destinations/google-bigquery/">Google BigQuery</a></li><li><a href="/cloud-destinations/firebase/">Google Firebase</a></li><li><a href="/cloud-destinations/google-tag-manager/">Google Tag Manager</a></li><li><a href="/cloud-destinations/heap-analytics/">Heap Analytics</a></li><li><a href="/cloud-destinations/hotjar/">Hotjar</a></li><li><a href="/cloud-destinations/hubspot/">HubSpot</a></li><li><a href="/cloud-destinations/intercom/">Intercom</a></li><li><a href="/cloud-destinations/keen-io/">Keen</a></li><li><a href="/cloud-destinations/kenshoo/">Kenshoo</a></li><li><a href="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</a></li><li><a href="/cloud-destinations/kissmetrics/">KiSSmetrics</a></li><li><a href="/cloud-destinations/lucky-orange/">Lucky Orange</a></li><li><a href="/cloud-destinations/lytics/">Lytics</a></li><li><a href="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/cloud-destinations/mixpanel/">MixPanel</a></li><li><a href="/cloud-destinations/netmining/">Netmining</a></li><li><a href="/cloud-destinations/optimizely/">Optimizely</a></li><li><a href="/cloud-destinations/outbrain/">OutBrain</a></li><li><a href="/cloud-destinations/pebble-post/">Pebble Post</a></li><li><a href="/cloud-destinations/pinterest/">Pinterest Tag</a></li><li><a href="/cloud-destinations/resonate/">Resonate</a></li><li><a href="/cloud-destinations/retention-science/">Retention Science</a></li><li><a href="/cloud-destinations/rubicon/">Rubicon</a></li><li><a href="/cloud-destinations/s3-event-logs/">S3 Event Logs</a></li><li><a href="/cloud-destinations/sailthru/">Sailthru</a></li><li><a href="/cloud-destinations/slack/">Slack</a></li><li><a href="/cloud-destinations/taboola/">Taboola</a></li><li><a href="/cloud-destinations/twitter-ads/">Twitter Ads</a></li><li><a href="/cloud-destinations/vwo/">VWO</a></li><li><a href="/cloud-destinations/webhooks/">Webhooks</a></li><li><a href="/cloud-destinations/woopra/">Woopra</a></li></ul><h2>Sources &amp; SDKs</h2><ul data-title="sources-and-sdks"><li><a href="/sources-and-sdks/">Overview</a></li><li><a href="/sources/analytics-js/">Analytics.js</a></li><li><a href="/sources/analytics-js-common-fields/">Analytics.js Common Fields</a></li><li><a href="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</a></li><li><a href="/sources/android/">Android</a></li><li><a href="/sources/http-api/">HTTP API</a></li><li><a href="/sources/ios/">iOS</a></li><li><a href="/sources/java/">Java</a></li><li><a href="/sources/dot-net/">.NET</a></li><li><a href="/sources/node-js/">Node.js</a></li><li><a href="/sources/php/">PHP</a></li><li><a href="/sources/python/">Python</a></li><li><a href="/sources/react-native/">React Native</a></li><li><a href="/sources/ruby/">Ruby</a></li><li><a href="/sources/segment-webhook/">Segment Webhook</a></li></ul></div></div><main><nav class="clearfix"><ul class="header-links"><li><a href="https://metarouter.io">Home</a></li><li><a href="https://app.metarouter.io">App</a></li><li><a href="https://metarouter.io/#contact">Help</a></li></ul></nav><div class="nav-dropdown"><select><option value="/">Platform Overview</option><optgroup label="Enterprise Edition"><option value="/enterprise-edition/">Overview</option><option value="/enterprise-edition/#requirements">Requirements</option><option value="/enterprise-edition/#installation">Installation &amp; Updates</option><option value="/enterprise-edition/#config-and-management">Configuration &amp; Management</option></optgroup><optgroup label="Enterprise Destinations"><option value="/enterprise-destinations/overview/">Overview</option><option value="/enterprise-destinations/adobe-analytics/">Adobe Analytics</option><option value="/enterprise-destinations/amplitude/">Amplitude</option><option value="/enterprise-destinations/blueshift/">Blueshift</option><option value="/enterprise-destinations/criteo/">Criteo</option><option value="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/enterprise-destinations/facebook-pixel/">Facebook Pixel</option><option value="/enterprise-destinations/google-adwords/">Google AdWords</option><option value="/enterprise-destinations/google-analytics/">Google Analytics</option><option value="/enterprise-destinations/media-math/">Media Math</option><option value="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/enterprise-destinations/pinterest-tag/">Pinterest Tag</option><option value="/enterprise-destinations/s3-event-logs/">s3 Event Logs</option></optgroup><optgroup label="Cloud Edition"><option value="/cloud-edition/">Overview</option><option value="/cloud-edition/#cloud-api">Cloud API</option><option value="/cloud-edition/#clickstream-example">Clickstream Example</option><option value="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</option><option value="/cloud-edition/#switching-from-segment">Switching from Segment</option></optgroup><optgroup label="Cloud Destinations"><option value="/cloud-destinations/overview/">Overview</option><option value="/cloud-destinations/acquisio/">Acquisio</option><option value="/cloud-destinations/adobe-analytics/">Adobe Analytics</option><option value="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</option><option value="/cloud-destinations/amazon-redshift/">Amazon Redshift</option><option value="/cloud-destinations/amplitude/">Amplitude</option><option value="/cloud-destinations/attribution/">Attribution</option><option value="/cloud-destinations/bloom-reach/">Bloom Reach</option><option value="/cloud-destinations/braze/">Braze</option><option value="/cloud-destinations/calq/">Calq</option><option value="/cloud-destinations/clicky/">Clicky</option><option value="/cloud-destinations/criteo/">Criteo</option><option value="/cloud-destinations/customer-io/">Customer.io</option><option value="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/cloud-destinations/drift/">Drift</option><option value="/cloud-destinations/facebook-app-events/">Facebook App Events</option><option value="/cloud-destinations/facebook-pixel/">Facebook Pixel</option><option value="/cloud-destinations/google-adwords/">Google AdWords</option><option value="/cloud-destinations/google-analytics/">Google Analytics</option><option value="/cloud-destinations/google-bigquery/">Google BigQuery</option><option value="/cloud-destinations/firebase/">Google Firebase</option><option value="/cloud-destinations/google-tag-manager/">Google Tag Manager</option><option value="/cloud-destinations/heap-analytics/">Heap Analytics</option><option value="/cloud-destinations/hotjar/">Hotjar</option><option value="/cloud-destinations/hubspot/">HubSpot</option><option value="/cloud-destinations/intercom/">Intercom</option><option value="/cloud-destinations/keen-io/">Keen</option><option value="/cloud-destinations/kenshoo/">Kenshoo</option><option value="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</option><option value="/cloud-destinations/kissmetrics/">KiSSmetrics</option><option value="/cloud-destinations/lucky-orange/">Lucky Orange</option><option value="/cloud-destinations/lytics/">Lytics</option><option value="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/cloud-destinations/mixpanel/">MixPanel</option><option value="/cloud-destinations/netmining/">Netmining</option><option value="/cloud-destinations/optimizely/">Optimizely</option><option value="/cloud-destinations/outbrain/">OutBrain</option><option value="/cloud-destinations/pebble-post/">Pebble Post</option><option value="/cloud-destinations/pinterest/">Pinterest Tag</option><option value="/cloud-destinations/resonate/">Resonate</option><option value="/cloud-destinations/retention-science/">Retention Science</option><option value="/cloud-destinations/rubicon/">Rubicon</option><option value="/cloud-destinations/s3-event-logs/">S3 Event Logs</option><option value="/cloud-destinations/sailthru/">Sailthru</option><option value="/cloud-destinations/slack/">Slack</option><option value="/cloud-destinations/taboola/">Taboola</option><option value="/cloud-destinations/twitter-ads/">Twitter Ads</option><option value="/cloud-destinations/vwo/">VWO</option><option value="/cloud-destinations/webhooks/">Webhooks</option><option value="/cloud-destinations/woopra/">Woopra</option></optgroup><optgroup label="Sources &amp; SDKs"><option value="/sources-and-sdks/">Overview</option><option value="/sources/analytics-js/">Analytics.js</option><option value="/sources/analytics-js-common-fields/">Analytics.js Common Fields</option><option value="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</option><option value="/sources/android/">Android</option><option value="/sources/http-api/">HTTP API</option><option value="/sources/ios/">iOS</option><option value="/sources/java/">Java</option><option value="/sources/dot-net/">.NET</option><option value="/sources/node-js/">Node.js</option><option value="/sources/php/">PHP</option><option value="/sources/python/">Python</option><option value="/sources/react-native/">React Native</option><option value="/sources/ruby/">Ruby</option><option value="/sources/segment-webhook/">Segment Webhook</option></optgroup></select></div><div>
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>In this Section:</h6>
        <ul><li><a href="#why-cloud">Why Cloud?</a></li> <li><a href="#getting-started">Getting Started</a></li> <li><a href="#sources">Sources</a></li> <li><a href="#destinations">Destinations</a></li> <li><a href="#sourcedestination-compatibility-matrix">Source/Destination Compatibility Matrix</a></li> <li><a href="#calls">Calls</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 class="cloud section-anchor" id>MetaRouter Cloud</h1>
<a href="https://cdn.metarouter.io/web/img/docs/cloud-logo-light.png" target="_mr"><img class="content-logo" src="https://cdn.metarouter.io/web/img/docs/cloud-logo-light.png"></a>
<p>MetaRouter Cloud Edition is our SaaS offering. This is different from our <a href="/enterprise-edition/">Enterprise</a> edition in that we run the infrastructure in our cloud rather than deploying to your private cloud or running in a docker container on your local machine.</p>
<p>Cloud is where many of our customers start their journey with streaming data, while Enterprise is typically used by larger companies that have outgrown SaaS and would like to keep all of their data in their own environment. To get started setting up, sign up for MetaRouter Cloud <a href="https://app.metarouter.io/signup">here</a>.</p>
<h2 id="why-cloud" style="position:relative;"><a href="#why-cloud" aria-label="why cloud permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Why Cloud?</h2>
<p>The key to delighting customers is understanding them. Since identifying what they do-or don&apos;t do-is crucial to understanding their actions, thousands of tools exist to help marketers and product managers analyze user engagement with a website or app. As if selecting the right tools isn&apos;t challenging enough, accessing the fast-accumulating data for internal analysis is often a struggle, and the cost of switching to a better tool down the road can result in a major loss of data.</p>
<p>The MetaRouter Cloud Platform allows you to capture every user event from web, mobile, and server side sources. Once those events are ingested into our platform, we can push them to a data warehouse, CRM, or analytics tool of your choice. Implementing our Cloud Platform allows you to better understand how exactly users are interacting with your web and mobile apps so that you can tailor marketing and product focus accordingly.</p>
<h2 id="getting-started" style="position:relative;"><a href="#getting-started" aria-label="getting started permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Getting Started</h2>
<p>Once you&apos;ve <a href="https://app.metarouter.io/signup">signed up</a> for an account, it only takes a few minutes to start collecting valuable behavior data with MetaRouter.</p>
<p>Use one of our library sources to record user data from your website, mobile app, or servers. We&apos;ll transform and route that data to all of the destinations you&apos;ve enabled.</p>
<h2 id="sources" style="position:relative;"><a href="#sources" aria-label="sources permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Sources</h2>
<p>Collecting customer data from your website, mobile app, or servers is easy, and we&apos;ve built an integration with each of the following platforms.</p>
<p>Check it out:</p>
<ul>
<li><a href="/sources/analytics-js/">Analytics.js</a></li>
<li><a href="/sources/android/">Android</a></li>
<li><a href="/sources/http-api/">HTTP API</a></li>
<li><a href="/sources/ios/">iOS</a></li>
<li><a href="/sources/react-native/">React Native</a></li>
<li><a href="/sources/dot-net/">.NET</a></li>
<li><a href="/sources/node-js/">Node.js</a></li>
<li><a href="/sources/php/">PHP</a></li>
<li><a href="/sources/python/">Python</a></li>
<li><a href="/sources/ruby/">Ruby</a></li>
<li><a href="/sources/segment-webhook/">Segment Webhook</a></li>
</ul>
<h2 id="destinations" style="position:relative;"><a href="#destinations" aria-label="destinations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Destinations</h2>
<p>Check out the list below to explore all of the destinations available with MetaRouter. From there, make your way to each destination&apos;s docs and setup guide to see how to use them!</p>
<ul>
<li><a href="/cloud-destinations/acquisio/">Acquisio</a></li>
<li><a href="/cloud-destinations/adobe-analytics/">Adobe Analytics</a></li>
<li><a href="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</a></li>
<li><a href="/cloud-destinations/amazon-redshift/">Amazon Redshift</a></li>
<li><a href="/cloud-destinations/amplitude/">Amplitude</a></li>
<li><a href="/cloud-destinations/attribution/">Attribution</a></li>
<li><a href="/cloud-destinations/calq/">Calq</a></li>
<li><a href="/cloud-destinations/clicky/">Clicky</a></li>
<li><a href="/cloud-destinations/criteo/">Criteo</a></li>
<li><a href="/cloud-destinations/customer-io/">Customer.io</a></li>
<li><a href="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li>
<li><a href="/cloud-destinations/drift/">Drift</a></li>
<li><a href="/cloud-destinations/facebook-app-events/">Facebook App Events</a></li>
<li><a href="/cloud-destinations/facebook-pixel/">Facebook Pixel</a></li>
<li><a href="/cloud-destinations/google-adwords/">Google AdWords</a></li>
<li><a href="/cloud-destinations/google-analytics/">Google Analytics</a></li>
<li><a href="/cloud-destinations/google-bigquery/">Google BigQuery</a></li>
<li><a href="/cloud-destinations/google-tag-manager/">Google Tag Manager</a></li>
<li><a href="/cloud-destinations/firebase/">Google Firebase</a></li>
<li><a href="/cloud-destinations/heap-analytics/">Heap Analytics</a></li>
<li><a href="/cloud-destinations/hubspot/">HubSpot</a></li>
<li><a href="/cloud-destinations/intercom/">Intercom</a></li>
<li><a href="/cloud-destinations/keen-io/">Keen</a></li>
<li><a href="/cloud-destinations/kissmetrics/">KISSmetrics</a></li>
<li><a href="/cloud-destinations/lucky-orange/">Lucky Orange</a></li>
<li><a href="/cloud-destinations/lytics/">Lytics</a></li>
<li><a href="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</a></li>
<li><a href="/cloud-destinations/mixpanel/">Mixpanel</a></li>
<li><a href="/cloud-destinations/netmining/">NetMining</a></li>
<li><a href="/cloud-destinations/optimizely/">Optimizely</a></li>
<li><a href="/cloud-destinations/outbrain/">OutBrain</a></li>
<li><a href="/cloud-destinations/pinterest/">Pinterest</a></li>
<li><a href="/cloud-destinations/resonate/">Resonate</a></li>
<li><a href="/cloud-destinations/retention-science/">Retention Science</a></li>
<li><a href="/cloud-destinations/rubicon/">Rubicon</a></li>
<li><a href="/cloud-destinations/s3-event-logs/">S3 Event Logs</a></li>
<li><a href="/cloud-destinations/sailthru/">Sailthru</a></li>
<li><a href="/cloud-destinations/taboola/">Taboola</a></li>
<li><a href="/cloud-destinations/twitter-ads/">Twitter Ads</a></li>
<li><a href="/cloud-destinations/vwo/">VWO</a></li>
<li><a href="/cloud-destinations/webhooks/">Webhooks</a></li>
<li><a href="/cloud-destinations/woopra/">Woopra</a></li>
</ul>
<h2 id="sourcedestination-compatibility-matrix" style="position:relative;"><a href="#sourcedestination-compatibility-matrix" aria-label="sourcedestination compatibility matrix permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Source/Destination Compatibility Matrix</h2>
<!-- TODO: Figure out how to get EE edition destinations into this matrix -->
<table>
<thead>
<tr>
<th align="left" style="width: 40%;"></th>
<th align="center" style="width: 20%;">Client</th>
<th align="center" style="width: 20%;">Server</th>
<th align="center" style="width: 20%;">Mobile</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left">Acquisio</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Adobe Analytics</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Amazon Kinesis</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Amazon Redshift</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Amplitude</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Attribution</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Bloom Reach</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Braze</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Calq</td>
<td align="center">x</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Clicky</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Criteo</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Customer.io</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">DoubleClick</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Drift</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Facebook App Events</td>
<td align="center">x</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Facebook Pixel</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Google AdWords</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Google Analytics</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Google BigQuery</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Google Tag Manager</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Google Firebase</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Heap Analytics</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">HubSpot</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Intercom</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Keen</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Kenshoo</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">KISSmetrics</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Lucky Orange</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Lytics</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Microsoft Ads</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Mixpanel</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Netmining</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Optimizely</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">OutBrain</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Pebble Post</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Resonate</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Retention Science</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Rubicon</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">S3 Event Logs</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Sailthru</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Taboola</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Twitter Ads</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">VWO</td>
<td align="center">&#x2714;</td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr>
<td align="left">Webhooks</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
<tr>
<td align="left">Woopra</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
<td align="center">&#x2714;</td>
</tr>
</tbody>
</table>
<h2 id="calls" style="position:relative;"><a href="#calls" aria-label="calls permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Calls</h2>
<p><a href="/sources/analytics-js/">Here</a>, we outline the different types of customer data we capture and how to implement them for your business.</p></body></html>
    </section>
    <div class="section-border"></div>
  
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>In this Section:</h6>
        <ul><li><a href="#houston---metarouters-graphql-api">Houston - MetaRouter's GraphQL API</a></li> <li><a href="#api-explorer">API Explorer</a></li> <li><a href="#connecting">Connecting</a></li> <li><a href="#authentication">Authentication</a></li> <li><a href="#accessing-the-public-api">Accessing the Public API</a></li> <li><a href="#data-models">Data Models</a></li> <li><a href="#clickstream-pipelines">Clickstream Pipelines</a></li> <li><a href="#query--mutation-response">Query & Mutation Response</a></li> <li><a href="#developer-tools">Developer Tools</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="cloud-api" style="position:relative;" class="section-anchor"><a href="#cloud-api" aria-label="cloud api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Cloud API</h1>
<h2 id="houston---metarouters-graphql-api" style="position:relative;"><a href="#houston---metarouters-graphql-api" aria-label="houston   metarouters graphql api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Houston - MetaRouter&apos;s GraphQL API</h2>
<p>Houston is a GraphQL API (utilizing Apollo) that allows interaction with the MetaRouter Data Engineering Platform. Named after NASA&#x2019;s Johnson Space Center in Houston, it provides direct communication and orchestration over our platform services.</p>
<h2 id="api-explorer" style="position:relative;"><a href="#api-explorer" aria-label="api explorer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>API Explorer</h2>
<p>You can
<a href="https://houston-explorer.metarouter.io/">explore the API</a> directly using GraphQL Explorer for testing purposes. You will want to make sure you select &quot;MetaRouter Houston&quot; when interfacing with this tool.</p>
<h2 id="connecting" style="position:relative;"><a href="#connecting" aria-label="connecting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Connecting</h2>
<p>We recommend using these projects while connecting to GraphQL:</p>
<ul>
<li>Client-side: <a href="http://dev.apollodata.com/">Apollo GraphQL</a></li>
<li>Node.js: <a href="https://github.com/graphcool/graphql-request">graphql-request</a></li>
</ul>
<h2 id="authentication" style="position:relative;"><a href="#authentication" aria-label="authentication permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Authentication</h2>
<h3 id="json-web-tokens" style="position:relative;"><a href="#json-web-tokens" aria-label="json web tokens permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>JSON Web Tokens</h3>
<p>JSON Web Tokens (JWT) encrypt important user session data in a way for our system to validate into a string that you can pass with every request. These tokens are set to expire on our system 24 hours after they are created.</p>
<h3 id="requesting-jwt-access" style="position:relative;"><a href="#requesting-jwt-access" aria-label="requesting jwt access permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Requesting JWT Access</h3>
<p>In order to generate a JWT, you will first need a <a href="https://app.metarouter.io">user account</a> with MetaRouter. Once you have a user account, the follow mutation (updated with your email, as the username, and password) will respond with your Token string for you to pass to our API.</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> createToken <span class="token punctuation">{</span>
  createToken<span class="token punctuation">(</span><span class="token attr-name">username</span><span class="token punctuation">:</span> <span class="token string">&quot;someone@somewhere.com&quot;</span><span class="token punctuation">,</span> <span class="token attr-name">password</span><span class="token punctuation">:</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success
    message
    token
    decoded <span class="token punctuation">{</span>
      id
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="accessing-the-public-api" style="position:relative;"><a href="#accessing-the-public-api" aria-label="accessing the public api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Accessing the Public API</h2>
<h3 id="using-a-jwt" style="position:relative;"><a href="#using-a-jwt" aria-label="using a jwt permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Using a JWT</h3>
<p>Once you have created a JSON Web Token, you need to embed it in the header of each request as authorization. Additionally, any operation to edit an Organization or any Connection or pipeline that an Organization controls will require that Organization&#x2019;s ID in the header of your request as well, under organization.</p>
<p>JWT will expire after 24 hours. Once it is expired, you will need to generate a new JWT and replace the expired one with it.</p>
<h3 id="using-an-api-key" style="position:relative;"><a href="#using-an-api-key" aria-label="using an api key permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Using an API Key</h3>
<p>We&#x2019;re working to provide trusted partners with API Keys that provide access to the Public API and do not self-expire. Stay tuned for updates, or send us a note at <a href="support@metarouter.io">support@metarouter.io</a> if you would like to be notified when this feature is made available.</p>
<h2 id="data-models" style="position:relative;"><a href="#data-models" aria-label="data models permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Data Models</h2>
<h3 id="users-and-organizations" style="position:relative;"><a href="#users-and-organizations" aria-label="users and organizations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Users and Organizations</h3>
<p>In order to access and control pipelines in the MetaRouter platform, we give control of these operations to <strong>Organizations</strong>. <strong>Users</strong> are added to Organizations in order to utilize the org&apos;s control over those pipelines. Once a person is added to an Organization, they are titled either <strong>Owner</strong> or <strong>User</strong>.</p>
<p>Organization Owners have full read/write control over everything linked to that Organization, from editing pipelines to expanding User permissions. You can consider this role as having administrative privileges for this Organization.</p>
<p>Organization Users have specific read/write control over pipelines linked to that Organization, however cannot read the contents of Connections and cannot change access of other Users to their Organization.</p>
<h4 id="creating-and-editing-users" style="position:relative;"><a href="#creating-and-editing-users" aria-label="creating and editing users permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Creating and Editing Users</h4>
<p>A user account is tied to a specific email address and has to be confirmed via an emailed link. User accounts can be created either via self signup or auto signup. Self Signup assumes that you will configure both your email address and password by yourself, while auto signup assumes you only have the email address for the account you want to configure and the email account holder will need to create their own password.</p>
<p>To create a new user account with the API, use the <code class="language-text">createNewUser</code> mutation below. Note that the profile argument is optional, however email and password are required.</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token punctuation">{</span>
  createNewUser<span class="token punctuation">(</span>
    <span class="token attr-name">email</span><span class="token punctuation">:</span> <span class="token string">&quot;someone.new@somewhere.com&quot;</span>
    <span class="token attr-name">password</span><span class="token punctuation">:</span> <span class="token string">&quot;password_string&quot;</span>
    <span class="token attr-name">profile</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token punctuation">{</span>
        <span class="token attr-name">firstName</span><span class="token punctuation">:</span> <span class="token string">&quot;Someone&quot;</span><span class="token punctuation">,</span>
        <span class="token attr-name">lastName</span><span class="token punctuation">:</span> <span class="token string">&quot;New&quot;</span><span class="token punctuation">,</span>
        <span class="token attr-name">company</span><span class="token punctuation">:</span> <span class="token string">&quot;My Company&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success
    message
    token
    decoded <span class="token punctuation">{</span>
      id
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>There is no direct access to auto signup a user from the API. However the auto signup feature will be automatically triggered when adding a user to your Organization that does not have an existing MetaRouter User account.</p>
<p>Note that editing a user&apos;s account and editing organization users are features on our roadmap and will be available soon!</p>
<h4 id="creating-and-editing-organizations" style="position:relative;"><a href="#creating-and-editing-organizations" aria-label="creating and editing organizations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Creating and Editing Organizations</h4>
<p>In order to create any pipelines, you must first create an Organization to link those pipelines to. The User who creates an Organization is automatically given the <strong>Organization Owner</strong> title, giving them access to all possible functionality.</p>
<p>Below is the mutation to create a new Organization:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token punctuation">{</span>
  createOrganization<span class="token punctuation">(</span><span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Human-friendly Organization Name&quot;</span><span class="token punctuation">,</span> <span class="token attr-name">userId</span><span class="token punctuation">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success
    message
    id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="clickstream-pipelines" style="position:relative;"><a href="#clickstream-pipelines" aria-label="clickstream pipelines permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Clickstream Pipelines</h2>
<p>Clickstream Pipelines focus on extracting or loading events in as close to real-time as possible.</p>
<h3 id="sources-and-applications" style="position:relative;"><a href="#sources-and-applications" aria-label="sources and applications permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Sources and Applications</h3>
<p>We currently support Analytics.js, servers, analytics-android, analytics-ios and analytics-react-native as sources in our Clickstream module. The SDKs we offer for those platforms forward events to our Clickstream API to be ingested and distributed by our system. These sources are grouped under an Organization, to allow you and other contributors that you specify to have access to view and/or edit them.</p>
<p>Upon source creation, a 21 character long <strong>Source ID</strong> is generated to identify your Application within our system and to ensure your events are routed to the correct destinations.</p>
<p>Below is the mutation to generate a Clickstream Source within our system:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token punctuation">{</span>
  createApplication<span class="token punctuation">(</span><span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Human-friendly Source Name&quot;</span><span class="token punctuation">,</span> <span class="token attr-name">platform</span><span class="token punctuation">:</span> <span class="token string">&quot;analytics.js&quot;</span><span class="token punctuation">,</span> <span class="token attr-name">orgId</span><span class="token punctuation">:</span> <span class="token string">&quot;1234567890&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success
    message
    id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h3 id="destinations-and-integrations" style="position:relative;"><a href="#destinations-and-integrations" aria-label="destinations and integrations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Destinations and Integrations</h3>
<p>To find how to build the form for a Clickstream Pipeline, you want to query against <code class="language-text">clickstreamPrototypes</code>. Within that response is a <code class="language-text">connectionPrototype</code> and <code class="language-text">configPrototype</code> array that list all the fields can use to configure a destination.</p>
<ul>
<li><code class="language-text">propertyName</code> : Key for these values within a</li>
<li><code class="language-text">clickstreamConfig</code> label : Human-friendly name</li>
<li><code class="language-text">field type</code> : The form field to display. Some of these are standard (input, boolean, number) and others are more abstract (array, boolean, map). (expansion on all types to follow)</li>
</ul>
<p>As of right now, the connection has to be saved separately before you save the configuration, as the Id for the connection will be referenced within the configuration. This allows you to reuse the connection for multiple configurations that are for the same platform rather than having to make multiple requests to save them both initially.</p>
<p>Here is an example of the two mutations needed to set up a brand new clickstream destination</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token punctuation">{</span>
  createConnection<span class="token punctuation">(</span>
    <span class="token attr-name">integrationCode</span><span class="token punctuation">:</span> <span class="token string">&quot;acquisio&quot;</span>
    <span class="token attr-name">details</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">apiKey</span><span class="token punctuation">:</span> <span class="token string">&quot;123&quot;</span> <span class="token punctuation">}</span>
    <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Friendly Connection Name&quot;</span>
    <span class="token attr-name">orgId</span><span class="token punctuation">:</span> <span class="token string">&quot;1234567890&quot;</span>
    <span class="token attr-name">connectionPrototypeId</span><span class="token punctuation">:</span> <span class="token string">&quot;123&quot;</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success
    message
    id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token punctuation">{</span>
  createIntegration<span class="token punctuation">(</span>
    <span class="token attr-name">appId</span><span class="token punctuation">:</span> <span class="token string">&quot;456&quot;</span>
    <span class="token attr-name">integrationCode</span><span class="token punctuation">:</span> <span class="token string">&quot;acquisio&quot;</span>
    <span class="token attr-name">configPayload</span><span class="token punctuation">:</span>  <span class="token punctuation">{</span>
          <span class="token string">&quot;events&quot;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span>
              <span class="token string">&quot;fvsbvsdfbsdfb&quot;</span>
          <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token attr-name">connectionId</span><span class="token punctuation">:</span> <span class="token string">&quot;123&quot;</span>
    <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Friendly Application Name&quot;</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success
    message
    id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="query--mutation-response" style="position:relative;"><a href="#query--mutation-response" aria-label="query  mutation response permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Query &amp; Mutation Response</h2>
<h3 id="query-response" style="position:relative;"><a href="#query-response" aria-label="query response permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Query Response</h3>
<p>Queries typically respond as an array of objects, even if the arguments you pass would limit the response to a single object. For instance, the query organizations will return an array with a single object if you search by orgId, but possibly multiple objects if you search by userId.</p>
<h3 id="mutation-response" style="position:relative;"><a href="#mutation-response" aria-label="mutation response permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Mutation Response</h3>
<p>Mutations typically respond with a <code class="language-text">statusMessage</code> object to alert you on if the mutation you triggered was successful or not. This contains:</p>
<ul>
<li><code class="language-text">success</code> : True or False response if the request was successful</li>
<li><code class="language-text">message</code> : Human-friendly message on what happened</li>
<li><code class="language-text">id</code> : For operations that create new data, the id of the created object will be returned</li>
<li><code class="language-text">code</code> : Coming soon...</li>
</ul>
<p>Actions to mutate data within MetaRouter&#x2019;s platform tend to follow a &quot;create and update&quot; pattern, where we separate out the functions to make a new object with the ability to change or delete it in order to have strict control over the permissions over data control. For example, anyone can run <code class="language-text">createOrganization</code> and make a new Organization where they are the owner. However, only Organization owners can run <code class="language-text">updateOrganization</code> that allows for adding/removing users, updating details, or deleting the org.</p>
<h3 id="error-response" style="position:relative;"><a href="#error-response" aria-label="error response permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Error Response</h3>
<p>This is on our roadmap and currently being built out- check back soon for updates!</p>
<h2 id="developer-tools" style="position:relative;"><a href="#developer-tools" aria-label="developer tools permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Developer Tools</h2>
<h3 id="api-developer-console" style="position:relative;"><a href="#api-developer-console" aria-label="api developer console permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>API Developer Console</h3>
<p>Please contact us directly at <a href="support@metarouter.io">support@metarouter.io</a> for access to the main developer console for MetaRouter&#x2019;s public API.</p>
<p>Within the black Header Area, you want to paste the JWT into the token field and the Organization ID (found within the URL of your Organizations dashboard). This will embed that information within the header of all of your requests within the console and will provide access to query and mutation results for your organization. Make sure you select <strong>Prod</strong> as your GraphQL endpoint (defaults to <strong>Staging</strong> on page load) to make sure you are accessing data that resides on MetaRouter&apos;s Main Platform.</p>
<h3 id="api-reference-materials" style="position:relative;"><a href="#api-reference-materials" aria-label="api reference materials permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>API Reference Materials</h3>
<ul>
<li><a href="https://super-collider.github.io/houston/schema/public-API-schema-0.3.0.html">API Schema</a></li>
</ul></body></html>
    </section>
    <div class="section-border"></div>
  
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>In this Section:</h6>
        <ul><li><a href="#how-does-event-collection-work">How does event collection work?</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="clickstream-example" style="position:relative;" class="section-anchor"><a href="#clickstream-example" aria-label="basic clickstream example permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Basic Clickstream Example</h1>
<h2 id="how-does-event-collection-work" style="position:relative;"><a href="#how-does-event-collection-work" aria-label="how does event collection work permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>How does event collection work?</h2>
<p>While MetaRouter can provide value for any company with a website or mobile app, we understand that clickstream data may be conceptually difficult to understand. To make it more digestible, we&apos;ve thrown together a basic example in which you can get some hands-on experience with our <code class="language-text">track</code> <a href="/sources/analytics-js/#track">API call</a>.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/2048-4.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/2048-4.png" alt="2048-4"></a></p>
<p>We crafted this example with a game we all know and love, called 2048. For those who aren&apos;t familiar with this game, the objective is to combine like numbers until you&apos;ve made a <code class="language-text">2048</code> tile. When you play 2048, you are telling the app to either move tiles up, down, left, or right. Each of these movements represents a specific <strong>event</strong> that is logged by this <code class="language-text">track</code> call:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;track&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;integrations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;context&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/2048/&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;referrer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;search&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MetaRouter&apos;s 2048&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://astronomerio.github.io/2048/&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;anonymousId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c027b3e0-07a0-4d64-b537-a157a9f6fa15&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;anonymousId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c027b3e0-07a0-4d64-b537-a157a9f6fa15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-10-26T14:50:53.815Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Once those events are tracked, they can be pushed to a warehouse or analytics tool of your choice. We&apos;ve chosen to use Keen, an event data platform made for real-time data application. By tracking our 2048 events to Keen through MetaRouter, we avoid the hassle of implementing various Keen API libraries in our site&apos;s framework. With MetaRouter, we just need to enable the proper destination in the UI.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/2048-5.gif" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/2048-5.gif" alt="2048-5"></a></p>
<p><a href="/cloud-destinations/keen-io/">You can learn more about our Keen destination here</a></p>
<p>Let&apos;s walk through gameplay to show exactly how events are tracked and logged. We have connected this client-side event tracking to Keen, which then records events in the panels on the right hand side of the page.</p>
<p>Let&apos;s start start by pressing the <code class="language-text">up</code> arrow on our keyboard, moving the tiles to the top of the box.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/2048-1.gif" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/2048-1.gif" alt="2048-1"></a></p>
<p>As you can see, the <code class="language-text">up</code> arrow logs a <code class="language-text">track</code> API call with the event name <code class="language-text">up</code>. Once we refresh the page, we will see the event registered in our Keen panels.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/2048-2.gif" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/2048-2.gif" alt="2048-2"></a></p>
<p>There you have it; we&apos;re well on our way to generating insights based on user event data! We&apos;re not done yet, though. We are also able to issue a <code class="language-text">track</code> call when a user starts a new game.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/2048-3.gif" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/2048-3.gif" alt="2048-3"></a></p>
<p>After collecting a more substantial amount of event data, we can track a variety of trends, such as:</p>
<ul>
<li>How far into the game users get before starting a new game</li>
<li>Which corner of the board is most popular for users to move to</li>
<li>The minimum amount of key strokes it took for someone to win the game.</li>
</ul></body></html>
    </section>
    <div class="section-border"></div>
  
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>In this Section:</h6>
        <ul><li><a href="#aa-test-metarouter-and-segment">A/A Test MetaRouter and Segment</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="compare-with-segment" style="position:relative;" class="section-anchor"><a href="#compare-with-segment" aria-label="compare metarouter and segment side by side permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Compare MetaRouter and Segment Side-by-Side</h1>
<h2 id="aa-test-metarouter-and-segment" style="position:relative;"><a href="#aa-test-metarouter-and-segment" aria-label="aa test metarouter and segment permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>A/A Test MetaRouter and Segment</h2>
<p>If you are unable to test MetaRouter against Segment using an A/B testing method, MetaRouter provides a mechanism to A/A test against Segment.</p>
<h3 id="set-segment-integrations-to-cloud-mode" style="position:relative;"><a href="#set-segment-integrations-to-cloud-mode" aria-label="set segment integrations to cloud mode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Set Segment Integrations to Cloud Mode</h3>
<p>In order to complete a successful test, integrations need to be moved to cloud mode from inside of your Segment account. This will prevent unforeseen collisions from integration specific libraries accessing global variables.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/aa_test1.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/aa_test1.png" alt="aa-test1"></a></p>
<p><strong>Note:</strong> Please be aware if Segment does not allow for cloud mode for a particular integration there is a risk of client-side collision occurring which may result in bad test results.</p>
<h3 id="update-your-metarouter-snippet" style="position:relative;"><a href="#update-your-metarouter-snippet" aria-label="update your metarouter snippet permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Update Your MetaRouter Snippet</h3>
<p>Next update your metarouter snippet to point to the testing metalytics snippet:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">!</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> metalytics<span class="token operator">=</span>window<span class="token punctuation">.</span>metalytics<span class="token operator">=</span>window<span class="token punctuation">.</span>metalytics<span class="token operator">||</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>metalytics<span class="token punctuation">.</span>initialize<span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>metalytics<span class="token punctuation">.</span>invoked<span class="token punctuation">)</span>window<span class="token punctuation">.</span>console<span class="token operator">&amp;&amp;</span>console<span class="token punctuation">.</span>error<span class="token operator">&amp;&amp;</span>console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;MetaRouter snippet included twice.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">{</span>metalytics<span class="token punctuation">.</span>invoked<span class="token operator">=</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span>metalytics<span class="token punctuation">.</span>methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;trackSubmit&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;trackClick&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;trackLink&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;trackForm&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageview&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;identify&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;reset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;track&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ready&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;alias&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;once&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>metalytics<span class="token punctuation">.</span><span class="token function-variable function">factory</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> e<span class="token operator">=</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>metalytics<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> metalytics<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>t<span class="token operator">&lt;</span>metalytics<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>length<span class="token punctuation">;</span>t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> e<span class="token operator">=</span>metalytics<span class="token punctuation">.</span>methods<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>metalytics<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token operator">=</span>metalytics<span class="token punctuation">.</span><span class="token function">factory</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span>metalytics<span class="token punctuation">.</span><span class="token function-variable function">load</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> e<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span>type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span>async<span class="token operator">=</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;https:&quot;</span><span class="token operator">===</span>document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>protocol<span class="token operator">?</span><span class="token string">&quot;https://&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;cdn.metarouter.io/analytics.js/v1/&quot;</span><span class="token operator">+</span>t<span class="token operator">+</span><span class="token string">&quot;/metalytics.min.js&quot;</span><span class="token punctuation">;</span><span class="token keyword">var</span> n<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>n<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>metalytics<span class="token punctuation">.</span><span class="token constant">SNIPPET_VERSION</span><span class="token operator">=</span><span class="token string">&quot;3.1.0&quot;</span><span class="token punctuation">;</span>
  metalytics<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;YOUR_SOURCE_ID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  metalytics<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></code></pre></div>
<p>This will now allow for MetaRouter&#x2019;s snippet to be run concurrently with Segment&#x2019;s. Each will fire events independently and events can be tested side-by-side for comparison.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span><span class="token string">&apos;hello segment&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
metalytics<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>&#x2018;hello metarouter&#x2019;<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></body></html>
    </section>
    <div class="section-border"></div>
  
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>In this Section:</h6>
        <ul><li><a href="#getting-started">Getting Started</a></li> <li><a href="#segment--metarouter-merge-guidelines">Segment | MetaRouter Merge Guidelines</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="switching-from-segment" style="position:relative;" class="section-anchor"><a href="#switching-from-segment" aria-label="switching from segment permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Switching from Segment</h1>
<p>While Segment has standardized real-time, vendor-neutral customer event collection, no platform is a perfect fit for everyone. At MetaRouter, we&apos;ve provided an alternative for those searching for greater flexibility, improved security and event-based pricing.</p>
<p>Switching from Segment to MetaRouter is very simple. Follow the four easy steps below to get up and running with our platform!</p>
<h2 id="getting-started" style="position:relative;"><a href="#getting-started" aria-label="getting started permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Getting Started</h2>
<h3 id="step-1" style="position:relative;"><a href="#step-1" aria-label="step 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Step 1</h3>
<p><a href="https://app.metarouter.io/signup">Sign up for MetaRouter</a> and create a <a href="/sources-and-sdks/">source</a> in the MetaRouter UI.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/segment-switch-1-v2.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/segment-switch-1-v2.png" alt="segment-switch-1"></a></p>
<h3 id="step-2" style="position:relative;"><a href="#step-2" aria-label="step 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Step 2</h3>
<p>Remove your Segment snippet and replace it with our <a href="/sources/analytics-js/">Analytics.js</a> snippet:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">!</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> analytics<span class="token operator">=</span>window<span class="token punctuation">.</span>analytics<span class="token operator">=</span>window<span class="token punctuation">.</span>analytics<span class="token operator">||</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>analytics<span class="token punctuation">.</span>initialize<span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>analytics<span class="token punctuation">.</span>invoked<span class="token punctuation">)</span>window<span class="token punctuation">.</span>console<span class="token operator">&amp;&amp;</span>console<span class="token punctuation">.</span>error<span class="token operator">&amp;&amp;</span>console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;MetaRouter snippet included twice.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">{</span>analytics<span class="token punctuation">.</span>invoked<span class="token operator">=</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span>analytics<span class="token punctuation">.</span>methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;trackSubmit&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;trackClick&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;trackLink&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;trackForm&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pageview&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;identify&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;reset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;track&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ready&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;alias&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;once&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>analytics<span class="token punctuation">.</span><span class="token function-variable function">factory</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> e<span class="token operator">=</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>analytics<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> analytics<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>t<span class="token operator">&lt;</span>analytics<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>length<span class="token punctuation">;</span>t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> e<span class="token operator">=</span>analytics<span class="token punctuation">.</span>methods<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>analytics<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token operator">=</span>analytics<span class="token punctuation">.</span><span class="token function">factory</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span>analytics<span class="token punctuation">.</span><span class="token function-variable function">load</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> e<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span>type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span>async<span class="token operator">=</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;https:&quot;</span><span class="token operator">===</span>document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>protocol<span class="token operator">?</span><span class="token string">&quot;https://&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;cdn.metarouter.io/analytics.js/v1/&quot;</span><span class="token operator">+</span>t<span class="token operator">+</span><span class="token string">&quot;/&quot;</span><span class="token operator">+</span>t<span class="token operator">+</span><span class="token string">&quot;.js&quot;</span><span class="token punctuation">;</span><span class="token keyword">var</span> n<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>n<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>analytics<span class="token punctuation">.</span><span class="token constant">SNIPPET_VERSION</span><span class="token operator">=</span><span class="token string">&quot;3.1.0&quot;</span><span class="token punctuation">;</span>
  analytics<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;YOUR_SOURCE_ID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  analytics<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></code></pre></div>
<h3 id="step-3" style="position:relative;"><a href="#step-3" aria-label="step 3 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Step 3</h3>
<p>Step 3: Configure your integrations via the MetaRouter dashboard.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/segment-switch-3-v2.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/segment-switch-3-v2.png" alt="segment-switch-3"></a></p>
<h3 id="step-4" style="position:relative;"><a href="#step-4" aria-label="step 4 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Step 4</h3>
<p>Step 4: Check the live debugger to make sure your data is flowing.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/segment-switch-4-v2.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/segment-switch-4-v2.png" alt="segment-switch-4"></a></p>
<h2 id="segment--metarouter-merge-guidelines" style="position:relative;"><a href="#segment--metarouter-merge-guidelines" aria-label="segment  metarouter merge guidelines permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Segment | MetaRouter Merge Guidelines</h2>
<p>You&apos;ve made the switch from Segment to MetaRouter Clickstream and now you want all of your data in one place (including the data from your old Segment account). Merging is an easy process - we&#x2019;ll walk you through it.</p>
<h3 id="initial-column-audit" style="position:relative;"><a href="#initial-column-audit" aria-label="initial column audit permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Initial Column Audit</h3>
<p>To start, we&apos;d recommend that you take a few minutes to review your existing Segment tables with the tables created by MetaRouter&apos;s Clickstream platform. Create a spreadsheet with tables from both platforms side by side to easily identify datatype conflicts.</p>
<p>Here&apos;s the SQL to view that information:</p>
<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span>
<span class="token keyword">WHERE</span> table_schema <span class="token operator">=</span> <span class="token string">&apos;example_schema_name&apos;</span>
<span class="token operator">AND</span> table_name <span class="token operator">=</span> <span class="token string">&apos;example_table_name&apos;</span></code></pre></div>
<h3 id="datatype-conflicts" style="position:relative;"><a href="#datatype-conflicts" aria-label="datatype conflicts permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Datatype Conflicts</h3>
<p>If you do identify some datatype conflicts, it&apos;s likely that your destination column will be able to accommodate the previous datatype (e.g. varchar(256) or varchar(512) or timestamp with timezone). Check out the following example:</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/clickstream-merge1.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/clickstream-merge1.png" alt="clickstream-merge1"></a></p>
<h3 id="non-existent-destination-columns" style="position:relative;"><a href="#non-existent-destination-columns" aria-label="non existent destination columns permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Non-Existent Destination Columns</h3>
<p>If you have some columns that don&apos;t exist in the destination tables, they&apos;ll need to either be dropped from the source (Segment) tables or added manually to the destination tables.</p>
<p>You can do the latter manually via the <a href="http://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html">Alter Table Add Command</a>.</p>
<h3 id="differing-ordinal-positions" style="position:relative;"><a href="#differing-ordinal-positions" aria-label="differing ordinal positions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Differing Ordinal Positions</h3>
<p>If the ordinal position differs between the two tables, a Bulk Insert ((e.g. <code class="language-text">INSERT INTO {DESTINATION_TABLE} (SELECT * FROM SOURCE_TABLE}</code>) is slightly more complicated.</p>
<p>From here, you&apos;ll have 2 options:</p>
<h4 id="a-bulk-insert" style="position:relative;"><a href="#a-bulk-insert" aria-label="a bulk insert permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>A) Bulk Insert</h4>
<p>Here, use the specific column order as the destination tables rather than<code class="language-text">SELECT</code> (see below)</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/clickstream-merge2.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/clickstream-merge2.png" alt="clickstream-merge2"></a></p>
<h4 id="b-unload-to-s3-and-then-copy" style="position:relative;"><a href="#b-unload-to-s3-and-then-copy" aria-label="b unload to s3 and then copy permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>B) Unload to S3 and then Copy</h4>
<p>This has a few more steps, but will likely be less taxing on your db depending on your row count.</p>
<ol>
<li><a href="http://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html">Unload each source table to S3</a></li>
<li><a href="http://docs.aws.amazon.com/redshift/latest/dg/r_COPY.html">COPY each file from S3 into the corresponding destination table</a></li>
</ol>
<p>Here, you can specify the column order of the destination table that the file should load into.</p>
<p>Please don&apos;t hesitate to contact us with any questions as you get set up! You can reach us anytime at <a href="support@metarouter.io">support@metarouter.io</a>.</p></body></html>
    </section>
    <div class="section-border"></div>
  </div><footer><p>© <!-- -->2020<!-- --> MetaRouter</p><p id="disclaimer"><strong>Disclaimer:</strong> MetaRouter Cloud leverages code from several of<!-- --> <a href="https://segment.com" target="_blank" rel="noopener noreferrer">Segment&#x27;s</a> <!-- -->fabulous library of open-source tools, including their<!-- --> <a href="https://segment.com/docs/sources/" target="_blank" rel="noopener noreferrer">source SDKs</a>,<!-- --> <a href="https://segment.com/docs/destinations" target="_blank" rel="noopener noreferrer">destinations</a>, and core<!-- --> <a href="https://segment.com/docs/sources/website/analytics.js/" target="_blank" rel="noopener noreferrer">Analytics.js</a> <!-- -->library. As some of the core configurations outlined in our docs are largely identical to Segment&#x27;s, we often re-purpose, and in some cases copy, directly from Segment&#x27;s docs. In the cases where we have forked Segment&#x27;s tools, we acknowledge and attribute all credit to Segment for their creation and subsequent documentation.</p></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/cloud-edition/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c4f78aaf00ef3fb7b63b.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ab12cfe2f77aa8ed5f67.js"],"component---src-pages-index-js":["/component---src-pages-index-js-13d829700e7681fab1e5.js"],"component---src-templates-page-js":["/component---src-templates-page-js-b1464b131b7fa71a7728.js"],"component---src-templates-redirect-js":["/component---src-templates-redirect-js-eea53db7eb16be4a6a50.js"],"component---src-pages-404-js":["/component---src-pages-404-js-887e07450068e2bae70a.js"]};/*]]>*/</script><script src="/component---src-templates-page-js-b1464b131b7fa71a7728.js" async=""></script><script src="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-f31173c1348b57b8e12a.js" async=""></script><script src="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js" async=""></script><script src="/29107295-d2b2dd71af714b3e39b3.js" async=""></script><script src="/styles-ccfac98b72d746365bce.js" async=""></script><script src="/app-c4f78aaf00ef3fb7b63b.js" async=""></script><script src="/framework-ae968edc9080e69820cd.js" async=""></script><script src="/webpack-runtime-6861035cef6cf4529df9.js" async=""></script></body></html>