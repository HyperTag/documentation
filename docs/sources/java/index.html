<!DOCTYPE html><html lang="en" class=""><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="/styles.f22c9f3fc3f96e0fdd67.css" rel="stylesheet" type="text/css"/><meta name="generator" content="Gatsby 2.20.12"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">MetaRouter Documentation</title><meta data-react-helmet="true" name="description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" property="og:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="metarouter.io"/><meta data-react-helmet="true" name="twitter:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" name="twitter:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#292d66"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link as="script" rel="preload" href="/webpack-runtime-6861035cef6cf4529df9.js"/><link as="script" rel="preload" href="/framework-ae968edc9080e69820cd.js"/><link as="script" rel="preload" href="/app-c4f78aaf00ef3fb7b63b.js"/><link as="script" rel="preload" href="/styles-ccfac98b72d746365bce.js"/><link as="script" rel="preload" href="/29107295-d2b2dd71af714b3e39b3.js"/><link as="script" rel="preload" href="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js"/><link as="script" rel="preload" href="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-f31173c1348b57b8e12a.js"/><link as="script" rel="preload" href="/component---src-templates-page-js-b1464b131b7fa71a7728.js"/><link as="fetch" rel="preload" href="/page-data/sources/java/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="nav-list"><header><h1><a class="logo" href="/">MetaRouter Documentation</a></h1><input type="text" id="search-input" placeholder="search..."/></header><div class="scrollbox"><ul><li><a href="/">Platform Overview</a></li></ul><h2>Enterprise Edition</h2><ul data-title="enterprise-edition"><li><a href="/enterprise-edition/">Overview</a></li><li><a href="/enterprise-edition/#requirements">Requirements</a></li><li><a href="/enterprise-edition/#installation">Installation &amp; Updates</a></li><li><a href="/enterprise-edition/#config-and-management">Configuration &amp; Management</a></li></ul><h2>Enterprise Destinations</h2><ul data-title="enterprise-destinations"><li><a href="/enterprise-destinations/overview/">Overview</a></li><li><a href="/enterprise-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/enterprise-destinations/amplitude/">Amplitude</a></li><li><a href="/enterprise-destinations/blueshift/">Blueshift</a></li><li><a href="/enterprise-destinations/criteo/">Criteo</a></li><li><a href="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/enterprise-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/enterprise-destinations/google-adwords/">Google AdWords</a></li><li><a href="/enterprise-destinations/google-analytics/">Google Analytics</a></li><li><a href="/enterprise-destinations/media-math/">Media Math</a></li><li><a href="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/enterprise-destinations/pinterest-tag/">Pinterest Tag</a></li><li><a href="/enterprise-destinations/s3-event-logs/">s3 Event Logs</a></li></ul><h2>Cloud Edition</h2><ul data-title="cloud-edition"><li><a href="/cloud-edition/">Overview</a></li><li><a href="/cloud-edition/#cloud-api">Cloud API</a></li><li><a href="/cloud-edition/#clickstream-example">Clickstream Example</a></li><li><a href="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</a></li><li><a href="/cloud-edition/#switching-from-segment">Switching from Segment</a></li></ul><h2>Cloud Destinations</h2><ul data-title="cloud-destinations"><li><a href="/cloud-destinations/overview/">Overview</a></li><li><a href="/cloud-destinations/acquisio/">Acquisio</a></li><li><a href="/cloud-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</a></li><li><a href="/cloud-destinations/amazon-redshift/">Amazon Redshift</a></li><li><a href="/cloud-destinations/amplitude/">Amplitude</a></li><li><a href="/cloud-destinations/attribution/">Attribution</a></li><li><a href="/cloud-destinations/bloom-reach/">Bloom Reach</a></li><li><a href="/cloud-destinations/braze/">Braze</a></li><li><a href="/cloud-destinations/calq/">Calq</a></li><li><a href="/cloud-destinations/clicky/">Clicky</a></li><li><a href="/cloud-destinations/criteo/">Criteo</a></li><li><a href="/cloud-destinations/customer-io/">Customer.io</a></li><li><a href="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/cloud-destinations/drift/">Drift</a></li><li><a href="/cloud-destinations/facebook-app-events/">Facebook App Events</a></li><li><a href="/cloud-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/cloud-destinations/google-adwords/">Google AdWords</a></li><li><a href="/cloud-destinations/google-analytics/">Google Analytics</a></li><li><a href="/cloud-destinations/google-bigquery/">Google BigQuery</a></li><li><a href="/cloud-destinations/firebase/">Google Firebase</a></li><li><a href="/cloud-destinations/google-tag-manager/">Google Tag Manager</a></li><li><a href="/cloud-destinations/heap-analytics/">Heap Analytics</a></li><li><a href="/cloud-destinations/hotjar/">Hotjar</a></li><li><a href="/cloud-destinations/hubspot/">HubSpot</a></li><li><a href="/cloud-destinations/intercom/">Intercom</a></li><li><a href="/cloud-destinations/keen-io/">Keen</a></li><li><a href="/cloud-destinations/kenshoo/">Kenshoo</a></li><li><a href="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</a></li><li><a href="/cloud-destinations/kissmetrics/">KiSSmetrics</a></li><li><a href="/cloud-destinations/lucky-orange/">Lucky Orange</a></li><li><a href="/cloud-destinations/lytics/">Lytics</a></li><li><a href="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/cloud-destinations/mixpanel/">MixPanel</a></li><li><a href="/cloud-destinations/netmining/">Netmining</a></li><li><a href="/cloud-destinations/optimizely/">Optimizely</a></li><li><a href="/cloud-destinations/outbrain/">OutBrain</a></li><li><a href="/cloud-destinations/pebble-post/">Pebble Post</a></li><li><a href="/cloud-destinations/pinterest/">Pinterest Tag</a></li><li><a href="/cloud-destinations/resonate/">Resonate</a></li><li><a href="/cloud-destinations/retention-science/">Retention Science</a></li><li><a href="/cloud-destinations/rubicon/">Rubicon</a></li><li><a href="/cloud-destinations/s3-event-logs/">S3 Event Logs</a></li><li><a href="/cloud-destinations/sailthru/">Sailthru</a></li><li><a href="/cloud-destinations/slack/">Slack</a></li><li><a href="/cloud-destinations/taboola/">Taboola</a></li><li><a href="/cloud-destinations/twitter-ads/">Twitter Ads</a></li><li><a href="/cloud-destinations/vwo/">VWO</a></li><li><a href="/cloud-destinations/webhooks/">Webhooks</a></li><li><a href="/cloud-destinations/woopra/">Woopra</a></li></ul><h2>Sources &amp; SDKs</h2><ul data-title="sources-and-sdks"><li><a href="/sources-and-sdks/">Overview</a></li><li><a href="/sources/analytics-js/">Analytics.js</a></li><li><a href="/sources/analytics-js-common-fields/">Analytics.js Common Fields</a></li><li><a href="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</a></li><li><a href="/sources/android/">Android</a></li><li><a href="/sources/http-api/">HTTP API</a></li><li><a href="/sources/ios/">iOS</a></li><li><a aria-current="page" class="" href="/sources/java/">Java</a></li><li><a href="/sources/dot-net/">.NET</a></li><li><a href="/sources/node-js/">Node.js</a></li><li><a href="/sources/php/">PHP</a></li><li><a href="/sources/python/">Python</a></li><li><a href="/sources/react-native/">React Native</a></li><li><a href="/sources/ruby/">Ruby</a></li><li><a href="/sources/segment-webhook/">Segment Webhook</a></li></ul></div></div><main><nav class="clearfix"><ul class="header-links"><li><a href="https://metarouter.io">Home</a></li><li><a href="https://app.metarouter.io">App</a></li><li><a href="https://metarouter.io/#contact">Help</a></li></ul></nav><div class="nav-dropdown"><select><option value="/">Platform Overview</option><optgroup label="Enterprise Edition"><option value="/enterprise-edition/">Overview</option><option value="/enterprise-edition/#requirements">Requirements</option><option value="/enterprise-edition/#installation">Installation &amp; Updates</option><option value="/enterprise-edition/#config-and-management">Configuration &amp; Management</option></optgroup><optgroup label="Enterprise Destinations"><option value="/enterprise-destinations/overview/">Overview</option><option value="/enterprise-destinations/adobe-analytics/">Adobe Analytics</option><option value="/enterprise-destinations/amplitude/">Amplitude</option><option value="/enterprise-destinations/blueshift/">Blueshift</option><option value="/enterprise-destinations/criteo/">Criteo</option><option value="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/enterprise-destinations/facebook-pixel/">Facebook Pixel</option><option value="/enterprise-destinations/google-adwords/">Google AdWords</option><option value="/enterprise-destinations/google-analytics/">Google Analytics</option><option value="/enterprise-destinations/media-math/">Media Math</option><option value="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/enterprise-destinations/pinterest-tag/">Pinterest Tag</option><option value="/enterprise-destinations/s3-event-logs/">s3 Event Logs</option></optgroup><optgroup label="Cloud Edition"><option value="/cloud-edition/">Overview</option><option value="/cloud-edition/#cloud-api">Cloud API</option><option value="/cloud-edition/#clickstream-example">Clickstream Example</option><option value="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</option><option value="/cloud-edition/#switching-from-segment">Switching from Segment</option></optgroup><optgroup label="Cloud Destinations"><option value="/cloud-destinations/overview/">Overview</option><option value="/cloud-destinations/acquisio/">Acquisio</option><option value="/cloud-destinations/adobe-analytics/">Adobe Analytics</option><option value="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</option><option value="/cloud-destinations/amazon-redshift/">Amazon Redshift</option><option value="/cloud-destinations/amplitude/">Amplitude</option><option value="/cloud-destinations/attribution/">Attribution</option><option value="/cloud-destinations/bloom-reach/">Bloom Reach</option><option value="/cloud-destinations/braze/">Braze</option><option value="/cloud-destinations/calq/">Calq</option><option value="/cloud-destinations/clicky/">Clicky</option><option value="/cloud-destinations/criteo/">Criteo</option><option value="/cloud-destinations/customer-io/">Customer.io</option><option value="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/cloud-destinations/drift/">Drift</option><option value="/cloud-destinations/facebook-app-events/">Facebook App Events</option><option value="/cloud-destinations/facebook-pixel/">Facebook Pixel</option><option value="/cloud-destinations/google-adwords/">Google AdWords</option><option value="/cloud-destinations/google-analytics/">Google Analytics</option><option value="/cloud-destinations/google-bigquery/">Google BigQuery</option><option value="/cloud-destinations/firebase/">Google Firebase</option><option value="/cloud-destinations/google-tag-manager/">Google Tag Manager</option><option value="/cloud-destinations/heap-analytics/">Heap Analytics</option><option value="/cloud-destinations/hotjar/">Hotjar</option><option value="/cloud-destinations/hubspot/">HubSpot</option><option value="/cloud-destinations/intercom/">Intercom</option><option value="/cloud-destinations/keen-io/">Keen</option><option value="/cloud-destinations/kenshoo/">Kenshoo</option><option value="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</option><option value="/cloud-destinations/kissmetrics/">KiSSmetrics</option><option value="/cloud-destinations/lucky-orange/">Lucky Orange</option><option value="/cloud-destinations/lytics/">Lytics</option><option value="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/cloud-destinations/mixpanel/">MixPanel</option><option value="/cloud-destinations/netmining/">Netmining</option><option value="/cloud-destinations/optimizely/">Optimizely</option><option value="/cloud-destinations/outbrain/">OutBrain</option><option value="/cloud-destinations/pebble-post/">Pebble Post</option><option value="/cloud-destinations/pinterest/">Pinterest Tag</option><option value="/cloud-destinations/resonate/">Resonate</option><option value="/cloud-destinations/retention-science/">Retention Science</option><option value="/cloud-destinations/rubicon/">Rubicon</option><option value="/cloud-destinations/s3-event-logs/">S3 Event Logs</option><option value="/cloud-destinations/sailthru/">Sailthru</option><option value="/cloud-destinations/slack/">Slack</option><option value="/cloud-destinations/taboola/">Taboola</option><option value="/cloud-destinations/twitter-ads/">Twitter Ads</option><option value="/cloud-destinations/vwo/">VWO</option><option value="/cloud-destinations/webhooks/">Webhooks</option><option value="/cloud-destinations/woopra/">Woopra</option></optgroup><optgroup label="Sources &amp; SDKs"><option value="/sources-and-sdks/">Overview</option><option value="/sources/analytics-js/">Analytics.js</option><option value="/sources/analytics-js-common-fields/">Analytics.js Common Fields</option><option value="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</option><option value="/sources/android/">Android</option><option value="/sources/http-api/">HTTP API</option><option value="/sources/ios/">iOS</option><option value="/sources/java/">Java</option><option value="/sources/dot-net/">.NET</option><option value="/sources/node-js/">Node.js</option><option value="/sources/php/">PHP</option><option value="/sources/python/">Python</option><option value="/sources/react-native/">React Native</option><option value="/sources/ruby/">Ruby</option><option value="/sources/segment-webhook/">Segment Webhook</option></optgroup></select></div><div>
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>On this Page:</h6>
        <ul><li><a href="#getting-started">Getting Started</a></li> <li><a href="#install-the-library">Install the Library</a></li> <li><a href="#initialize-the-sdk">Initialize the SDK</a></li> <li><a href="#calls-in-java">Calls in Java</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="java" style="position:relative;" data-tags="sources"><a href="#" aria-label="java permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Java</h1>
<h2 id="getting-started" style="position:relative;"><a href="#getting-started" aria-label="getting started permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Getting Started</h2>
<p>This library lets you record analytics data from your Java code. Once installed, the requests will hit our servers and then be routed to the destinations of your choice.</p>
<p>You can install the library <a href="https://github.com/segmentio/analytics-java">here</a>.</p>
<p>You can use this library in your web server controller code- it is built for high performance and uses and internal queue to make all calls non-blocking and fast. It will batch messages and flush asynchronously to our servers.</p>
<h2 id="install-the-library" style="position:relative;"><a href="#install-the-library" aria-label="install the library permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Install the Library</h2>
<p>We reccommend installing the library with a build system like Maven. If you do it this way, you will have much less trouble upgrading and swapping out destinations.</p>
<p>The library is distributed as a <code class="language-text">jar</code> dependency via <a href="http://search.maven.org/">Maven Central</a>. Here&apos;s what it would look like with Maven.</p>
<p>Add to <code class="language-text">pom.xml</code>:</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.segment.analytics.java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>analytics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>LATEST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<h2 id="initialize-the-sdk" style="position:relative;"><a href="#initialize-the-sdk" aria-label="initialize the sdk permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Initialize the SDK</h2>
<p>Before you can start sending us events, you&apos;ll need to initialize an instance of the Analytics class. Do this using the <code class="language-text">Analytics.builder</code> class, inputting the <strong>Source ID</strong> found in the source settings of your MetaRouter UI.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">Analytics</span> analytics <span class="token operator">=</span> <span class="token class-name">Analytics</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token string">&quot;Your Source ID&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">endpoint</span><span class="token punctuation">(</span><span class="token string">&quot;https://e.metarouter.io&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Note that there exists an internal <code class="language-text">AnalyticsClient</code> class, not to be confused with the public <code class="language-text">Analytics</code> class.</p>
<p>The <code class="language-text">Analytics</code> class has a method called <code class="language-text">enqueue</code> that takes a <code class="language-text">MessageBuilder</code>. Each message class has a corresponding builder that is used to construct instances of a message. Be sure to provide either a <code class="language-text">userId</code> or <code class="language-text">anonymousID</code> for each message, as failing to do so will raise an exception at runtime.</p>
<h2 id="calls-in-java" style="position:relative;"><a href="#calls-in-java" aria-label="calls in java permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Calls in Java</h2>
<p>Check out the below calls and their use cases to determine the calls that you need to make. We have also included examples of how you&apos;d call specific objects in Java.</p>
<p><strong>Note:</strong> Thee following examples use the <a href="https://github.com/google/guava">Guava</a> immutable map style, but feel free to use standard Java maps instead.</p>
<h3 id="identify" style="position:relative;"><a href="#identify" aria-label="identify permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Identify</h3>
<p>The <code class="language-text">identify</code> method helps you associate your users and their actions to a unique and recognizable <code class="language-text">userID</code> and any optional <code class="language-text">traits</code> that you know about them. We recommend calling an <code class="language-text">identify</code> a single time - when the user&apos;s account is first created and only again when their traits change.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">analytics<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token class-name">IdentifyMessage</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token string">&quot;qwerty1234&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">traits</span><span class="token punctuation">(</span><span class="token class-name">ImmutableMap</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Buzz Aldrin&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;buzz.aldrin@visitthemoon.com&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Second person to visit the moon&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The above call identifies Buzz by his unique <code class="language-text">userID</code> and labels him with <code class="language-text">name</code>, <code class="language-text">email</code>, <code class="language-text">gender</code>, and <code class="language-text">title</code> traits. For a complete library of the traits that you&apos;re able to assign to a user, check out our <a href="/analytics-js/">API Calls doc</a>.</p>
<h3 id="track" style="position:relative;"><a href="#track" aria-label="track permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Track</h3>
<p>To get to a more complete event tracking analytics setup, you can add a <code class="language-text">track</code> call to your website. This will tell MetaRouter which actions you are performing on your site. With <code class="language-text">track</code>, each user action triggers an &#x201C;event,&#x201D; which can also have associated properties.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">analytics<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token class-name">TrackMessage</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token string">&quot;Item Purchased&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token string">&quot;qwerty1234&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token class-name">ImmutableMap</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;revenue&quot;</span><span class="token punctuation">,</span> <span class="token number">50.00</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;shipping&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Next-Day&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The above call tells us that someone has purchased an item for 50 dollars and has selected a &quot;next day&quot; shipping option.</p>
<h3 id="screen" style="position:relative;"><a href="#screen" aria-label="screen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Screen</h3>
<p><strong>Note:</strong> The <code class="language-text">screen</code> call pulls the same data as a <code class="language-text">page</code> call, but is used for mobile rather than web sources.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">analytics<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token class-name">ScreenMessage</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token string">&quot;MoonLanding&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token string">&quot;qwerty1234&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">properties</span><span class="token punctuation">(</span><span class="token class-name">ImmutableMap</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Space&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/space/moonlanding&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The above call tells us that someone has viewed a <code class="language-text">MoonLanding</code> page that is categorized in a <code class="language-text">Space</code> section of the mobile app.</p>
<h3 id="group" style="position:relative;"><a href="#group" aria-label="group permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Group</h3>
<p>The <code class="language-text">group</code> method associates an identified user with a company, organization, project, etc.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">analytics<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token class-name">GroupMessage</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token string">&quot;some-group-id&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token string">&quot;qwerty1234&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">traits</span><span class="token punctuation">(</span><span class="token class-name">ImmutableMap</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;MetaRouter&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>&apos;website<span class="token string">&quot;, &quot;</span>www<span class="token punctuation">.</span>metarouter<span class="token punctuation">.</span>io&quot;<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The above call assigns the user with the &quot;MetaRouter&quot; group and gives that group the &quot;size&quot; and &quot;website&quot; traits.</p>
<h3 id="alias" style="position:relative;"><a href="#alias" aria-label="alias permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Alias</h3>
<p>The <code class="language-text">alias</code> method combines two unassociated User IDs.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">analytics<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token class-name">AliasMessage</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token string">&quot;previousId&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token string">&quot;qwerty1234&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>We might use the above call in the following way:</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// the anonymous user clicks a button</span>
<span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&quot;anonymous_user&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Click Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the anonymous user signs up and is aliased</span>
<span class="token function">alias</span><span class="token punctuation">(</span><span class="token string">&quot;anonymous_user&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;first.last@website.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the signed up user is identified</span>
<span class="token function">identify</span><span class="token punctuation">(</span><span class="token string">&quot;first.last@website.com&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Traits</span><span class="token punctuation">(</span><span class="token string">&quot;plan&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pro&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the identified user clicks a button</span>
<span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&quot;first.last@website.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Click Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Note that making an <code class="language-text">alias</code> call means that we are able to combine the user&apos;s anonymous actions with their identified actions, so that we can get a clear picture of their user journey.</p></body></html>
    </section>
    <div class="section-border"></div>
  </div><footer><p>© <!-- -->2020<!-- --> MetaRouter</p><p id="disclaimer"><strong>Disclaimer:</strong> MetaRouter Cloud leverages code from several of<!-- --> <a href="https://segment.com" target="_blank" rel="noopener noreferrer">Segment&#x27;s</a> <!-- -->fabulous library of open-source tools, including their<!-- --> <a href="https://segment.com/docs/sources/" target="_blank" rel="noopener noreferrer">source SDKs</a>,<!-- --> <a href="https://segment.com/docs/destinations" target="_blank" rel="noopener noreferrer">destinations</a>, and core<!-- --> <a href="https://segment.com/docs/sources/website/analytics.js/" target="_blank" rel="noopener noreferrer">Analytics.js</a> <!-- -->library. As some of the core configurations outlined in our docs are largely identical to Segment&#x27;s, we often re-purpose, and in some cases copy, directly from Segment&#x27;s docs. In the cases where we have forked Segment&#x27;s tools, we acknowledge and attribute all credit to Segment for their creation and subsequent documentation.</p></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/sources/java/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c4f78aaf00ef3fb7b63b.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ab12cfe2f77aa8ed5f67.js"],"component---src-pages-index-js":["/component---src-pages-index-js-13d829700e7681fab1e5.js"],"component---src-templates-page-js":["/component---src-templates-page-js-b1464b131b7fa71a7728.js"],"component---src-templates-redirect-js":["/component---src-templates-redirect-js-eea53db7eb16be4a6a50.js"],"component---src-pages-404-js":["/component---src-pages-404-js-887e07450068e2bae70a.js"]};/*]]>*/</script><script src="/component---src-templates-page-js-b1464b131b7fa71a7728.js" async=""></script><script src="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-f31173c1348b57b8e12a.js" async=""></script><script src="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js" async=""></script><script src="/29107295-d2b2dd71af714b3e39b3.js" async=""></script><script src="/styles-ccfac98b72d746365bce.js" async=""></script><script src="/app-c4f78aaf00ef3fb7b63b.js" async=""></script><script src="/framework-ae968edc9080e69820cd.js" async=""></script><script src="/webpack-runtime-6861035cef6cf4529df9.js" async=""></script></body></html>