<!DOCTYPE html><html lang="en" class=""><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="/styles.f22c9f3fc3f96e0fdd67.css" rel="stylesheet" type="text/css"/><meta name="generator" content="Gatsby 2.20.12"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">MetaRouter Documentation</title><meta data-react-helmet="true" name="description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" property="og:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="metarouter.io"/><meta data-react-helmet="true" name="twitter:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" name="twitter:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#292d66"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link as="script" rel="preload" href="/webpack-runtime-aefb07529d4167591c8b.js"/><link as="script" rel="preload" href="/framework-ae968edc9080e69820cd.js"/><link as="script" rel="preload" href="/app-c4f78aaf00ef3fb7b63b.js"/><link as="script" rel="preload" href="/styles-ccfac98b72d746365bce.js"/><link as="script" rel="preload" href="/29107295-d2b2dd71af714b3e39b3.js"/><link as="script" rel="preload" href="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js"/><link as="script" rel="preload" href="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-a022b712ec0ceed7b5e9.js"/><link as="script" rel="preload" href="/component---src-templates-page-js-b1464b131b7fa71a7728.js"/><link as="fetch" rel="preload" href="/page-data/cloud-destinations/firebase/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="nav-list"><header><h1><a class="logo" href="/">MetaRouter Documentation</a></h1><input type="text" id="search-input" placeholder="search..."/></header><div class="scrollbox"><ul><li><a href="/">Platform Overview</a></li></ul><h2>Enterprise Edition</h2><ul data-title="enterprise-edition"><li><a href="/enterprise-edition/">Overview</a></li><li><a href="/enterprise-edition/#requirements">Requirements</a></li><li><a href="/enterprise-edition/#installation">Installation &amp; Updates</a></li><li><a href="/enterprise-edition/#config-and-management">Configuration &amp; Management</a></li></ul><h2>Enterprise Destinations</h2><ul data-title="enterprise-destinations"><li><a href="/enterprise-destinations/overview/">Overview</a></li><li><a href="/enterprise-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/enterprise-destinations/amplitude/">Amplitude</a></li><li><a href="/enterprise-destinations/blueshift/">Blueshift</a></li><li><a href="/enterprise-destinations/criteo/">Criteo</a></li><li><a href="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/enterprise-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/enterprise-destinations/google-adwords/">Google AdWords</a></li><li><a href="/enterprise-destinations/google-analytics/">Google Analytics</a></li><li><a href="/enterprise-destinations/media-math/">Media Math</a></li><li><a href="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/enterprise-destinations/pinterest-tag/">Pinterest Tag</a></li><li><a href="/enterprise-destinations/s3-event-logs/">s3 Event Logs</a></li></ul><h2>Cloud Edition</h2><ul data-title="cloud-edition"><li><a href="/cloud-edition/">Overview</a></li><li><a href="/cloud-edition/#cloud-api">Cloud API</a></li><li><a href="/cloud-edition/#clickstream-example">Clickstream Example</a></li><li><a href="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</a></li><li><a href="/cloud-edition/#switching-from-segment">Switching from Segment</a></li></ul><h2>Cloud Destinations</h2><ul data-title="cloud-destinations"><li><a href="/cloud-destinations/overview/">Overview</a></li><li><a href="/cloud-destinations/acquisio/">Acquisio</a></li><li><a href="/cloud-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</a></li><li><a href="/cloud-destinations/amazon-redshift/">Amazon Redshift</a></li><li><a href="/cloud-destinations/amplitude/">Amplitude</a></li><li><a href="/cloud-destinations/attribution/">Attribution</a></li><li><a href="/cloud-destinations/bloom-reach/">Bloom Reach</a></li><li><a href="/cloud-destinations/braze/">Braze</a></li><li><a href="/cloud-destinations/calq/">Calq</a></li><li><a href="/cloud-destinations/clicky/">Clicky</a></li><li><a href="/cloud-destinations/criteo/">Criteo</a></li><li><a href="/cloud-destinations/customer-io/">Customer.io</a></li><li><a href="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/cloud-destinations/drift/">Drift</a></li><li><a href="/cloud-destinations/facebook-app-events/">Facebook App Events</a></li><li><a href="/cloud-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/cloud-destinations/google-adwords/">Google AdWords</a></li><li><a href="/cloud-destinations/google-analytics/">Google Analytics</a></li><li><a href="/cloud-destinations/google-bigquery/">Google BigQuery</a></li><li><a aria-current="page" class="" href="/cloud-destinations/firebase/">Google Firebase</a></li><li><a href="/cloud-destinations/google-tag-manager/">Google Tag Manager</a></li><li><a href="/cloud-destinations/heap-analytics/">Heap Analytics</a></li><li><a href="/cloud-destinations/hotjar/">Hotjar</a></li><li><a href="/cloud-destinations/hubspot/">HubSpot</a></li><li><a href="/cloud-destinations/intercom/">Intercom</a></li><li><a href="/cloud-destinations/keen-io/">Keen</a></li><li><a href="/cloud-destinations/kenshoo/">Kenshoo</a></li><li><a href="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</a></li><li><a href="/cloud-destinations/kissmetrics/">KiSSmetrics</a></li><li><a href="/cloud-destinations/lucky-orange/">Lucky Orange</a></li><li><a href="/cloud-destinations/lytics/">Lytics</a></li><li><a href="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/cloud-destinations/mixpanel/">MixPanel</a></li><li><a href="/cloud-destinations/netmining/">Netmining</a></li><li><a href="/cloud-destinations/optimizely/">Optimizely</a></li><li><a href="/cloud-destinations/outbrain/">OutBrain</a></li><li><a href="/cloud-destinations/pebble-post/">Pebble Post</a></li><li><a href="/cloud-destinations/pinterest/">Pinterest Tag</a></li><li><a href="/cloud-destinations/resonate/">Resonate</a></li><li><a href="/cloud-destinations/retention-science/">Retention Science</a></li><li><a href="/cloud-destinations/rubicon/">Rubicon</a></li><li><a href="/cloud-destinations/s3-event-logs/">S3 Event Logs</a></li><li><a href="/cloud-destinations/sailthru/">Sailthru</a></li><li><a href="/cloud-destinations/slack/">Slack</a></li><li><a href="/cloud-destinations/taboola/">Taboola</a></li><li><a href="/cloud-destinations/twitter-ads/">Twitter Ads</a></li><li><a href="/cloud-destinations/vwo/">VWO</a></li><li><a href="/cloud-destinations/webhooks/">Webhooks</a></li><li><a href="/cloud-destinations/woopra/">Woopra</a></li></ul><h2>Sources &amp; SDKs</h2><ul data-title="sources-and-sdks"><li><a href="/sources-and-sdks/">Overview</a></li><li><a href="/sources/analytics-js/">Analytics.js</a></li><li><a href="/sources/analytics-js-common-fields/">Analytics.js Common Fields</a></li><li><a href="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</a></li><li><a href="/sources/android/">Android</a></li><li><a href="/sources/http-api/">HTTP API</a></li><li><a href="/sources/ios/">iOS</a></li><li><a href="/sources/java/">Java</a></li><li><a href="/sources/dot-net/">.NET</a></li><li><a href="/sources/node-js/">Node.js</a></li><li><a href="/sources/php/">PHP</a></li><li><a href="/sources/python/">Python</a></li><li><a href="/sources/react-native/">React Native</a></li><li><a href="/sources/ruby/">Ruby</a></li><li><a href="/sources/segment-webhook/">Segment Webhook</a></li></ul></div></div><main><nav class="clearfix"><ul class="header-links"><li><a href="https://metarouter.io">Home</a></li><li><a href="https://app.metarouter.io">App</a></li><li><a href="https://metarouter.io/#contact">Help</a></li></ul></nav><div class="nav-dropdown"><select><option value="/">Platform Overview</option><optgroup label="Enterprise Edition"><option value="/enterprise-edition/">Overview</option><option value="/enterprise-edition/#requirements">Requirements</option><option value="/enterprise-edition/#installation">Installation &amp; Updates</option><option value="/enterprise-edition/#config-and-management">Configuration &amp; Management</option></optgroup><optgroup label="Enterprise Destinations"><option value="/enterprise-destinations/overview/">Overview</option><option value="/enterprise-destinations/adobe-analytics/">Adobe Analytics</option><option value="/enterprise-destinations/amplitude/">Amplitude</option><option value="/enterprise-destinations/blueshift/">Blueshift</option><option value="/enterprise-destinations/criteo/">Criteo</option><option value="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/enterprise-destinations/facebook-pixel/">Facebook Pixel</option><option value="/enterprise-destinations/google-adwords/">Google AdWords</option><option value="/enterprise-destinations/google-analytics/">Google Analytics</option><option value="/enterprise-destinations/media-math/">Media Math</option><option value="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/enterprise-destinations/pinterest-tag/">Pinterest Tag</option><option value="/enterprise-destinations/s3-event-logs/">s3 Event Logs</option></optgroup><optgroup label="Cloud Edition"><option value="/cloud-edition/">Overview</option><option value="/cloud-edition/#cloud-api">Cloud API</option><option value="/cloud-edition/#clickstream-example">Clickstream Example</option><option value="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</option><option value="/cloud-edition/#switching-from-segment">Switching from Segment</option></optgroup><optgroup label="Cloud Destinations"><option value="/cloud-destinations/overview/">Overview</option><option value="/cloud-destinations/acquisio/">Acquisio</option><option value="/cloud-destinations/adobe-analytics/">Adobe Analytics</option><option value="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</option><option value="/cloud-destinations/amazon-redshift/">Amazon Redshift</option><option value="/cloud-destinations/amplitude/">Amplitude</option><option value="/cloud-destinations/attribution/">Attribution</option><option value="/cloud-destinations/bloom-reach/">Bloom Reach</option><option value="/cloud-destinations/braze/">Braze</option><option value="/cloud-destinations/calq/">Calq</option><option value="/cloud-destinations/clicky/">Clicky</option><option value="/cloud-destinations/criteo/">Criteo</option><option value="/cloud-destinations/customer-io/">Customer.io</option><option value="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/cloud-destinations/drift/">Drift</option><option value="/cloud-destinations/facebook-app-events/">Facebook App Events</option><option value="/cloud-destinations/facebook-pixel/">Facebook Pixel</option><option value="/cloud-destinations/google-adwords/">Google AdWords</option><option value="/cloud-destinations/google-analytics/">Google Analytics</option><option value="/cloud-destinations/google-bigquery/">Google BigQuery</option><option value="/cloud-destinations/firebase/">Google Firebase</option><option value="/cloud-destinations/google-tag-manager/">Google Tag Manager</option><option value="/cloud-destinations/heap-analytics/">Heap Analytics</option><option value="/cloud-destinations/hotjar/">Hotjar</option><option value="/cloud-destinations/hubspot/">HubSpot</option><option value="/cloud-destinations/intercom/">Intercom</option><option value="/cloud-destinations/keen-io/">Keen</option><option value="/cloud-destinations/kenshoo/">Kenshoo</option><option value="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</option><option value="/cloud-destinations/kissmetrics/">KiSSmetrics</option><option value="/cloud-destinations/lucky-orange/">Lucky Orange</option><option value="/cloud-destinations/lytics/">Lytics</option><option value="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/cloud-destinations/mixpanel/">MixPanel</option><option value="/cloud-destinations/netmining/">Netmining</option><option value="/cloud-destinations/optimizely/">Optimizely</option><option value="/cloud-destinations/outbrain/">OutBrain</option><option value="/cloud-destinations/pebble-post/">Pebble Post</option><option value="/cloud-destinations/pinterest/">Pinterest Tag</option><option value="/cloud-destinations/resonate/">Resonate</option><option value="/cloud-destinations/retention-science/">Retention Science</option><option value="/cloud-destinations/rubicon/">Rubicon</option><option value="/cloud-destinations/s3-event-logs/">S3 Event Logs</option><option value="/cloud-destinations/sailthru/">Sailthru</option><option value="/cloud-destinations/slack/">Slack</option><option value="/cloud-destinations/taboola/">Taboola</option><option value="/cloud-destinations/twitter-ads/">Twitter Ads</option><option value="/cloud-destinations/vwo/">VWO</option><option value="/cloud-destinations/webhooks/">Webhooks</option><option value="/cloud-destinations/woopra/">Woopra</option></optgroup><optgroup label="Sources &amp; SDKs"><option value="/sources-and-sdks/">Overview</option><option value="/sources/analytics-js/">Analytics.js</option><option value="/sources/analytics-js-common-fields/">Analytics.js Common Fields</option><option value="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</option><option value="/sources/android/">Android</option><option value="/sources/http-api/">HTTP API</option><option value="/sources/ios/">iOS</option><option value="/sources/java/">Java</option><option value="/sources/dot-net/">.NET</option><option value="/sources/node-js/">Node.js</option><option value="/sources/php/">PHP</option><option value="/sources/python/">Python</option><option value="/sources/react-native/">React Native</option><option value="/sources/ruby/">Ruby</option><option value="/sources/segment-webhook/">Segment Webhook</option></optgroup></select></div><div>
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>On this Page:</h6>
        <ul><li><a href="#what-is-firebase-and-how-does-it-work">What is Firebase and how does it work?</a></li> <li><a href="#why-send-data-to-firebase-using-metarouter">Why send data to Firebase using MetaRouter?</a></li> <li><a href="#getting-started-with-firebase-and-metarouter">Getting Started with Firebase and MetaRouter</a></li> <li><a href="#examples">Examples</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="google-firebase" style="position:relative;" data-tags="cloud,destinations"><a href="#" aria-label="google firebase permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Google Firebase</h1>
<p>Available for server-side and mobile sources, MetaRouter makes it easy to send your data to Firebase. Once you follow the steps below, your data will be routed through our platform and pushed to Firebase in the appropriate format.</p>
<h2 id="what-is-firebase-and-how-does-it-work" style="position:relative;"><a href="#what-is-firebase-and-how-does-it-work" aria-label="what is firebase and how does it work permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>What is Firebase and how does it work?</h2>
<p>Firebase is an app development platform owned by Google that allows users to build, monitor and improve apps based on valuable app performance feedback. Google is migrating their app development monitoring to Firebase, and in the process sunsetting the Google Analytics Mobile SDKs. A major advantage of this change is that while apps were previously limited to 10MM events per month before requiring Google&apos;s Analytics 360 subscription, Firebase users will now be allowed unlimited hits on his/her app within the free Google Analytics platform.</p>
<p>Firebase is powered by Google Firebase SDKs that require installation for both iOS and Android apps. These SDKs are entirely separate from the previous Google Analytics Services SDKs, and will need to be installed if you wish to track event data for your apps through Google Analytics.</p>
<p><a href="https://firebase.google.com/">Learn more about Firebase</a></p>
<h2 id="why-send-data-to-firebase-using-metarouter" style="position:relative;"><a href="#why-send-data-to-firebase-using-metarouter" aria-label="why send data to firebase using metarouter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Why send data to Firebase using MetaRouter?</h2>
<p>With MetaRouter&apos;s Firebase integration, you will be able to push your app event data in Google Analytics once the Google Analytics Services SDKs are sunsetted. Just like with the Google Analytics destination, Firebase passes along all of the essential information to GA that you need to effectively measure app performance, such as app screens viewed, user attributes, and more. You can also configure the custom fields that you are familiar with, making it just as easy to track the data you need.</p>
<h2 id="getting-started-with-firebase-and-metarouter" style="position:relative;"><a href="#getting-started-with-firebase-and-metarouter" aria-label="getting started with firebase and metarouter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Getting Started with Firebase and MetaRouter</h2>
<h3 id="firebase-side" style="position:relative;"><a href="#firebase-side" aria-label="firebase side permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Firebase Side</h3>
<p>You will need to install the iOS and/or Android Segment-Firebase SDKs (shout-out to Segment for making these available!). To do this, please see the following steps below.</p>
<h4 id="firebase-for-ios" style="position:relative;"><a href="#firebase-for-ios" aria-label="firebase for ios permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Firebase for iOS</h4>
<p>Register your app in the <a href="https://console.firebase.google.com/">Firebase Console</a> and add the <code class="language-text">GoogleService-Info.plist</code> to the root of your Xcode project.</p>
<p>Add the following dependency to your Podfile: <code class="language-text">pod &apos;Segment-Firebase&apos;</code></p>
<p>After adding the dependency, import the integration:</p>
<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token macro property">#<span class="token directive keyword">import</span> &lt;Segment-Firebase/SEGFirebaseIntegrationFactory.h&gt;</span></code></pre></div>
<p>Finally, register the dependency with the Segment SDK:</p>
<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token punctuation">[</span>config use<span class="token punctuation">:</span><span class="token punctuation">[</span>SEGFirebaseIntegrationFactory instance<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<p>By default, Segment only bundles <code class="language-text">Firebase/Core</code> which is <a href="https://firebase.google.com/docs/analytics/">Firebase&#x2019;s Analytics offering</a>. You can see the other available <a href="https://firebase.google.com/docs/ios/setup">Firebase pods and features here</a>.</p>
<p>If configuring for proxy HTTP calls, follow these additional steps once you have completed the above:</p>
<ol>
<li>Add this call:</li>
</ol>
<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec">SEGAnalyticsConfiguration <span class="token operator">*</span>configuration <span class="token operator">=</span> <span class="token punctuation">[</span>SEGAnalyticsConfiguration configurationWithWriteKey<span class="token punctuation">:</span><span class="token string">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Set a custom request factory which allows you to modify the way the library creates an HTTP request.</span>
<span class="token comment">// In this case, we&apos;re transforming the URL to point to our own custom non-Segment host.</span>

configuration<span class="token punctuation">.</span>requestFactory <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span>NSURL <span class="token operator">*</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    NSURLComponents <span class="token operator">*</span>components <span class="token operator">=</span> <span class="token punctuation">[</span>NSURLComponents componentsWithURL<span class="token punctuation">:</span>url resolvingAgainstBaseURL<span class="token punctuation">:</span>NO<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Replace http://e.metarouter.io/ with the address of your proxy, e.g. aba64da6.ngrok.io.</span>
    components<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token operator">@</span>&quot;http<span class="token punctuation">:</span><span class="token comment">//e.metarouter.io/&quot;;</span>
    NSURL <span class="token operator">*</span>transformedURL <span class="token operator">=</span> components<span class="token punctuation">.</span>URL<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>NSMutableURLRequest requestWithURL<span class="token punctuation">:</span>transformedURL<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Set any other custom configuration options.</span>
<span class="token comment">// Initialize the SDK with the configuration.</span>
<span class="token punctuation">[</span>SEGAnalytics setupWithConfiguration<span class="token punctuation">:</span>configuration<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<ol start="2">
<li>Then add the following Swift and objC configurations to point to MetaRouter:</li>
</ol>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift">configuration<span class="token punctuation">.</span>requestFactory <span class="token operator">=</span> <span class="token punctuation">{</span> url <span class="token keyword">in</span>
            <span class="token keyword">var</span> components <span class="token operator">=</span> <span class="token builtin">URLComponents</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> url<span class="token punctuation">,</span> resolvingAgainstBaseURL<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> host <span class="token operator">=</span> components<span class="token operator">?</span><span class="token punctuation">.</span>host
            <span class="token keyword">if</span> <span class="token punctuation">(</span>host <span class="token operator">==</span> <span class="token string">&quot;cdn-settings.segment.com&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                components<span class="token operator">?</span><span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">&quot;cdn.metarouter.io&quot;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>host <span class="token operator">==</span> <span class="token string">&quot;api.segment.io&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                components<span class="token operator">?</span><span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">&quot;e.metarouter.io&quot;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token builtin">NSMutableURLRequest</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> components<span class="token operator">?</span><span class="token punctuation">.</span>url <span class="token operator">?</span><span class="token operator">?</span> url<span class="token punctuation">)</span>
        <span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec">configuration<span class="token punctuation">.</span>requestFactory <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span>NSURL <span class="token operator">*</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        NSURLComponents <span class="token operator">*</span>components <span class="token operator">=</span> <span class="token punctuation">[</span>NSURLComponents componentsWithURL<span class="token punctuation">:</span>url resolvingAgainstBaseURL<span class="token punctuation">:</span>NO<span class="token punctuation">]</span><span class="token punctuation">;</span>
        NSString<span class="token operator">*</span> host <span class="token operator">=</span> components<span class="token punctuation">.</span>host<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>host isEqualToString<span class="token punctuation">:</span><span class="token string">@&quot;cdn-settings.segment.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            components<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">@&quot;cdn.metarouter.io&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>host isEqualToString<span class="token punctuation">:</span><span class="token string">@&quot;api.segment.io&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            components<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">@&quot;e.metarouter.io&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        NSURL <span class="token operator">*</span>transformedURL <span class="token operator">=</span> components<span class="token punctuation">.</span>URL<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>NSMutableURLRequest requestWithURL<span class="token punctuation">:</span>transformedURL<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h4 id="firebase-for-android" style="position:relative;"><a href="#firebase-for-android" aria-label="firebase for android permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Firebase for Android</h4>
<p>To start sending data to Firebase Analytics from your Android project, you&#x2019;ll need to follow a few simple steps:</p>
<p>Register your mobile app with Firebase at <a href="https://console.firebase.google.com">https://console.firebase.google.com</a></p>
<p>Once your app is registered, you&#x2019;ll be prompted to download a google-services.json file. Place this in your Application&#x2019;s &#x201C;app&#x201D; folder. This file contains all necessary configurations and cannot be used across multiple apps. If you&#x2019;re configuring Firebase for other apps, you should create a new view in your Firebase console and download a unique google-services.json file for each.</p>
<p><strong>Module-level build.gradle:</strong> Add the Segment-Firebase SDK and apply the Google Services plugin at the end of the file:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">buildscript {
    dependencies {
        // Add these lines
        implementation &apos;com.segment.analytics.android:analytics:4.+&apos;
        implementation &apos;com.segment.analytics.android.integrations:firebase:+&apos;
    }
}

// Add to the bottom of the file
apply plugin: &apos;com.google.gms.google-services&apos;</code></pre></div>
<p><strong>Project-level build.gradle:</strong> Add Google Services dependency and their Maven repo location to repositories:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">buildscript {
    dependencies {
        // Add this line
        classpath &apos;com.google.gms:google-services:3.1.0&apos;
    }
}

allprojects {
    repositories {
        // Add this line
        maven { url &apos;https://maven.google.com&apos; }
    }
}</code></pre></div>
<p>Add these permissions to your AndroidManifest.xml:</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_NETWORK_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div>
<p>Finally, register the dependency with the Segment SDK in your application subclass, as seen here in <a href="https://segment.com/docs/sources/mobile/android/#packaging-device-based-destination-sdks">Segment&apos;s Android library documentation</a>.</p>
<p>Periodically, Firebase updates the Android configuration requirements for loading their SDK in your app. To validate that your Android configuration is sufficient for your version of Firebase, please consult Google&#x2019;s <a href="https://firebase.google.com/support/release-notes/android#">Firebase release notes</a>. You can find the corresponding version of the Firebase SDK Segment required in each of the Segment-Firebase SDK versions by consulting the <a href="https://github.com/segment-integrations/analytics-android-integration-firebase/blob/master/CHANGELOG.md">Segment-Firebase changelog</a>. For example, Segment-Firebase 1.3.1 includes Firebase Core 17.0.1 as a dependency.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">Analytics</span> analytics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Analytics</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> writeKey<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token class-name">FirebaseIntegration</span><span class="token punctuation">.</span>FACTORY<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>By default, we bundle only Firebase/Core which is <a href="https://firebase.google.com/docs/analytics/">Firebase&#x2019;s Analytics offering</a>. You can see the other available <a href="https://firebase.google.com/docs/android/setup">Firebase dependencies and features here</a>.</p>
<h4 id="proxy-http-calls" style="position:relative;"><a href="#proxy-http-calls" aria-label="proxy http calls permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Proxy HTTP calls</h4>
<p>If configuring for proxy HTTP calls, follow these additional steps once you have completed the above:</p>
<ol>
<li>Add this call:</li>
</ol>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">Analytics</span> analytics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Analytics</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> ANALYTICS_WRITE_KEY<span class="token punctuation">)</span> <span class="token comment">//</span>
        <span class="token punctuation">.</span><span class="token function">connectionFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConnectionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token class-name">HttpURLConnection</span> <span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Replace http://e.metarouter.io/ with the address of your proxy, e.g. https://aba64da6.ngrok.io.</span>
            <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token string">&quot;http://e.metarouter.io/&quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<ol start="2">
<li>Then add the following Swift, objC and Android configurations to point to MetaRouter:</li>
</ol>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift">configuration<span class="token punctuation">.</span>requestFactory <span class="token operator">=</span> <span class="token punctuation">{</span> url <span class="token keyword">in</span>
            <span class="token keyword">var</span> components <span class="token operator">=</span> <span class="token builtin">URLComponents</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> url<span class="token punctuation">,</span> resolvingAgainstBaseURL<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> host <span class="token operator">=</span> components<span class="token operator">?</span><span class="token punctuation">.</span>host
            <span class="token keyword">if</span> <span class="token punctuation">(</span>host <span class="token operator">==</span> <span class="token string">&quot;cdn-settings.segment.com&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                components<span class="token operator">?</span><span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">&quot;cdn.metarouter.io&quot;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>host <span class="token operator">==</span> <span class="token string">&quot;api.segment.io&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                components<span class="token operator">?</span><span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">&quot;e.metarouter.io&quot;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token builtin">NSMutableURLRequest</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> components<span class="token operator">?</span><span class="token punctuation">.</span>url <span class="token operator">?</span><span class="token operator">?</span> url<span class="token punctuation">)</span>
        <span class="token punctuation">}</span></code></pre></div>
<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec">configuration<span class="token punctuation">.</span>requestFactory <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span>NSURL <span class="token operator">*</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        NSURLComponents <span class="token operator">*</span>components <span class="token operator">=</span> <span class="token punctuation">[</span>NSURLComponents componentsWithURL<span class="token punctuation">:</span>url resolvingAgainstBaseURL<span class="token punctuation">:</span>NO<span class="token punctuation">]</span><span class="token punctuation">;</span>
        NSString<span class="token operator">*</span> host <span class="token operator">=</span> components<span class="token punctuation">.</span>host<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>host isEqualToString<span class="token punctuation">:</span><span class="token string">@&quot;cdn-settings.segment.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            components<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">@&quot;cdn.metarouter.io&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>host isEqualToString<span class="token punctuation">:</span><span class="token string">@&quot;api.segment.io&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            components<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">@&quot;e.metarouter.io&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        NSURL <span class="token operator">*</span>transformedURL <span class="token operator">=</span> components<span class="token punctuation">.</span>URL<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>NSMutableURLRequest requestWithURL<span class="token punctuation">:</span>transformedURL<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">Analytics</span> analytics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Analytics</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> ANALYTICS_WRITE_KEY<span class="token punctuation">)</span> <span class="token comment">//</span>
        <span class="token punctuation">.</span><span class="token function">connectionFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConnectionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span> <span class="token keyword">protected</span> <span class="token class-name">HttpURLConnection</span> <span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
            <span class="token class-name">Uri</span> parsedUri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> parsedUri<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> host <span class="token operator">=</span> parsedUri<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>host<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;cdn-settings.segment.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token string">&quot;https://cdn.metarouter.io&quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>host<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;api.segment.io&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token string">&quot;https://e.metarouter.io&quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="examples" style="position:relative;"><a href="#examples" aria-label="examples permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Examples</h2>
<h3 id="identify" style="position:relative;"><a href="#identify" aria-label="identify permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Identify</h3>
<p>When you call <code class="language-text">identify</code> the library will map to the corresponding Firebase Analytics calls:</p>
<ul>
<li>If there is a <code class="language-text">userId</code> on your <code class="language-text">identify call</code>, the library triggers <code class="language-text">setUserId</code> via the Firebase SDK</li>
<li>If there are traits included, the library will set user properties for each trait you include on the <code class="language-text">identify</code> call</li>
</ul>
<p>You can use these traits to create audiences and views to analyze your users&#x2019; behavior.</p>
<p><strong>Note:</strong> Google prohibits sending PII to Firebase unless <a href="https://firebase.google.com/policies/analytics/">&#x201C;robust notice&#x201D;</a> is given to your app users. For iOS apps, you must include the iAD Framework to automatically collect the Age, Gender, and Interests Firebase properties.</p>
<p>Learn more about <a href="https://support.google.com/firebase/answer/6317517?hl=en&amp;ref_topic=6317489">Firebase&#x2019;s reporting dashboard</a> here.</p>
<p><strong>Firebase has strict requirements for User Property names; they must:</strong></p>
<ul>
<li>Begin with a letter (not a number or symbol, including an underscore)</li>
<li>Contain only alphanumeric characters and underscores</li>
<li>Be no longer than 40 characters</li>
</ul>
<p>User Property values must be fewer than 100 characters.</p>
<p>You are limited to 25 unique user properties per Firebase Console.</p>
<p><strong>MetaRouter automatically:</strong></p>
<ul>
<li>Trims leading and trailing whitespace from user property names</li>
<li>Replaces spaces with underscores</li>
<li>Trims property names to 40 characters (Android only)</li>
</ul>
<p>Firebase automatically collects these <a href="https://support.google.com/firebase/answer/6317486">user properties</a>.</p>
<h3 id="track" style="position:relative;"><a href="#track" aria-label="track permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Track</h3>
<p>When you call <code class="language-text">track</code> MetaRouter will log the event with Firebase. Firebase automatically tracks <a href="https://support.google.com/firebase/answer/6317485">the events listed here</a> and it will still do so when bundling with MetaRouter.</p>
<p>Firebase has a limit of 500 distinctly named events so you should be intentional with what you track.</p>
<p>When you call <code class="language-text">track</code>, MetaRouter maps from the MetaRouter spec to those that match Firebase&#x2019;s spec. For anything that does not match, MetaRouter will pass the event to Firebase as a custom event. Custom parameters cannot be seen directly in the Firebase Analytics dashboard but they can be used as filters in <strong>Audiences</strong>.</p>
<p>Like with user properties, the library will perform the following transformations on both your event names and event parameters. Unlike user properties, you do not need to pre-define event parameters in your Firebase dashboard.</p>
<ul>
<li>Trims leading and trailing whitespace from property names</li>
<li>Replaces spaces with underscores</li>
<li>Trims property names to 40 characters (Android only)</li>
</ul>
<p>Event parameter values must be fewer than 100 characters.</p>
<h4 id="event-mappings" style="position:relative;"><a href="#event-mappings" aria-label="event mappings permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Event Mappings</h4>
<p>MetaRouter adheres to Firebase&#x2019;s semantic event specification and maps the following MetaRouter specced events (left) to the corresponding Firebase events (right):</p>
<table>
<thead>
<tr>
<th align="left">MetaRouter Event</th>
<th align="left">Firebase Event</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Products Searched</td>
<td align="left"><code class="language-text">search</code></td>
</tr>
<tr>
<td align="left">Product List Viewed</td>
<td align="left"><code class="language-text">view_item_list</code></td>
</tr>
<tr>
<td align="left">Product Viewed</td>
<td align="left"><code class="language-text">view_item</code></td>
</tr>
<tr>
<td align="left">Product Clicked</td>
<td align="left"><code class="language-text">select_content</code></td>
</tr>
<tr>
<td align="left">Product Shared</td>
<td align="left"><code class="language-text">share</code></td>
</tr>
<tr>
<td align="left">Product Added</td>
<td align="left"><code class="language-text">add_to_cart</code></td>
</tr>
<tr>
<td align="left">Product Added To Wishlist</td>
<td align="left"><code class="language-text">add_to_wishlist</code></td>
</tr>
<tr>
<td align="left">Checkout Started</td>
<td align="left"><code class="language-text">begin_checkout</code></td>
</tr>
<tr>
<td align="left">Promotion Viewed</td>
<td align="left"><code class="language-text">present_offer</code></td>
</tr>
<tr>
<td align="left">Payment Info Entered</td>
<td align="left"><code class="language-text">add_payment_info</code></td>
</tr>
<tr>
<td align="left">Order Completed</td>
<td align="left"><code class="language-text">ecommerce_purchase</code></td>
</tr>
<tr>
<td align="left">Order Refunded</td>
<td align="left"><code class="language-text">purchase_refundHeader</code></td>
</tr>
</tbody>
</table>
<h4 id="property-mappings" style="position:relative;"><a href="#property-mappings" aria-label="property mappings permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Property Mappings</h4>
<p>MetaRouter maps the followed Segment specced properties (left) to the corresponding Firebase event parameters (right):</p>
<table>
<thead>
<tr>
<th align="left">MetaRouter Property</th>
<th align="left">Firebase Property</th>
<th align="left">Accepted Value(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code class="language-text">category</code></td>
<td align="left"><code class="language-text">item_category</code></td>
<td align="left">(String) &#x201C;kitchen supplies&#x201D;</td>
</tr>
<tr>
<td align="left"><code class="language-text">product_id</code></td>
<td align="left"><code class="language-text">item_id</code></td>
<td align="left">(String) &#x201C;p1234&#x201D;</td>
</tr>
<tr>
<td align="left"><code class="language-text">name</code></td>
<td align="left"><code class="language-text">item_name</code></td>
<td align="left">(String) &#x201C;Le Creuset pot&#x201D;</td>
</tr>
<tr>
<td align="left"><code class="language-text">price</code></td>
<td align="left"><code class="language-text">price</code></td>
<td align="left">(double) 1.0</td>
</tr>
<tr>
<td align="left"><code class="language-text">quantity</code></td>
<td align="left"><code class="language-text">quantity</code></td>
<td align="left">(long) 1</td>
</tr>
<tr>
<td align="left"><code class="language-text">query</code></td>
<td align="left"><code class="language-text">search_term</code></td>
<td align="left">(String) &#x201C;Le Creuset&#x201D;</td>
</tr>
<tr>
<td align="left"><code class="language-text">shipping</code></td>
<td align="left"><code class="language-text">shipping</code></td>
<td align="left">(double) 2.0</td>
</tr>
<tr>
<td align="left"><code class="language-text">tax</code></td>
<td align="left"><code class="language-text">tax</code></td>
<td align="left">(double) 0.5</td>
</tr>
<tr>
<td align="left"><code class="language-text">total</code></td>
<td align="left"><code class="language-text">value</code></td>
<td align="left">(double) 3.99 or (long) 3.99</td>
</tr>
<tr>
<td align="left"><code class="language-text">revenue</code></td>
<td align="left"><code class="language-text">value</code></td>
<td align="left">(double) 3.99 or (long) 3.99</td>
</tr>
<tr>
<td align="left"><code class="language-text">order_id</code></td>
<td align="left"><code class="language-text">transaction_id</code></td>
<td align="left">(String) &#x201C;o555636&#x201D;</td>
</tr>
<tr>
<td align="left"><code class="language-text">currency</code></td>
<td align="left"><code class="language-text">currency</code></td>
<td align="left">(String) &#x201C;USD&#x201D;</td>
</tr>
</tbody>
</table>
<h4 id="passing-revenue-and-currency" style="position:relative;"><a href="#passing-revenue-and-currency" aria-label="passing revenue and currency permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Passing Revenue and Currency</h4>
<p>Ecommerce events containing &#x201C;revenue&#x201D; or &#x201C;total&#x201D; must also include the appropriate ISO 4217 &#x201C;currency&#x201D; string for revenue data to populate to the Firebase dashboard. If a &#x201C;currency&#x201D; value is not included, the library defaults to &#x201C;USD&#x201D;.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Properties properties = new Properties()
        .putValue(&quot;orderId&quot;, &quot;p966540&quot;)
        .putValue(&quot;revenue&quot;, 25.00)
        .putCurrency(&quot;USD&quot;);

Analytics.with(this).track(&quot;Order Completed&quot;, properties);</code></pre></div>
<h4 id="screen" style="position:relative;"><a href="#screen" aria-label="screen permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Screen</h4>
<p>MetaRouter doesn&#x2019;t map screen events to Firebase - that&#x2019;s because Firebase&#x2019;s SDK collects screen information out of the box for you.</p>
<p>For Android, MetaRouter passes contextual screen information into each screen view on each activity&#x2019;s <code class="language-text">onResume</code> callback. To ensure that screen names are labeled properly, MetaRouter recommends adding a <code class="language-text">label</code> value to each of your activities in your app&#x2019;s AndroidManifest.xml file. At the moment, Firebase does not allow disabling automatic screen tracking for Android.</p>
<p>For iOS, you can configure <code class="language-text">recordScreenViews</code> which will automatically track screen views, or pass in a screen manually via a screen call. You should be able to disable the Automatic Screen reporting by adding the plist flag <code class="language-text">FirebaseScreenReportingEnabled</code> to <code class="language-text">Info.plist</code> and set its value to <code class="language-text">NO</code> (Bool).</p>
<p>Google Analytics for Firebase iOS does NOT support the case of manual-only screen reporting. Firebase only supports automatic + manual screen reporting or no screen reporting at all.</p>
<h4 id="firebase-dynamic-linking-ios-only" style="position:relative;"><a href="#firebase-dynamic-linking-ios-only" aria-label="firebase dynamic linking ios only permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Firebase Dynamic Linking (iOS only)</h4>
<p>Firebase Dynamic Links are smart URLs that can change behavior dynamically depending on the platform where the user clicks them. Use them in web, email, social media, referral and physical promotions to increase user acquisition, retention and lifetime value. Key features include ability to survive app installs, controlling user experience depending on what platform they access the link on and knowing which content and campaigns are working via tracking in the Firebase console. Check out <a href="https://firebase.google.com/docs/dynamic-links/">Firebase&#x2019;s Docs here</a>. <a href="https://github.com/firebase/quickstart-ios/blob/master/dynamiclinks/DynamicLinksExample/AppDelegate.m#L41-L135">Here&#x2019;s a sample app delegate that shows how to implement the Dynamic Linking Logic</a>.</p>
<p>To use Firebase Dynamic Links, add the below to your podfile.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">pod &apos;Firebase/DynamicLinks&apos;</code></pre></div>
<h4 id="conversion-tracking-and-adwords-conversions" style="position:relative;"><a href="#conversion-tracking-and-adwords-conversions" aria-label="conversion tracking and adwords conversions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Conversion Tracking and AdWords Conversions</h4>
<p>Firebase is now Google&#x2019;s recommended method for reporting conversions to AdWords! To do so, simply track the conversion events as you normally would with the mobile library and it will will send them through to Firebase! Follow <a href="https://firebase.google.com/docs/adwords/">this documentation from Firebase to set up your conversions in Firebase and to have them forwarded to AdWords</a>.</p>
<h4 id="troubleshooting" style="position:relative;"><a href="#troubleshooting" aria-label="troubleshooting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Troubleshooting</h4>
<p>Firebase has great logging. If you are having any issues, you can enable debug mode as outlined <a href="https://support.google.com/firebase/answer/7201382/?hl=en&amp;authuser=0">here</a>.</p>
<h3 id="metarouter-side" style="position:relative;"><a href="#metarouter-side" aria-label="metarouter side permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>MetaRouter Side</h3>
<p>Not much to do here now that you already have your MetaRouter-Firebase SDKs all set up! When you set up your destination within the MetaRouter UI, you will see the below fields:</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/firebaseDestination.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/firebaseDestination.png" alt="firebaseDestination"></a>
In the <strong>Name</strong> field, simply name your destination.</p>
<p>The iOS Deep Link URL Scheme only applies if you have installed the iOS Firebase integration and are utilizing Firebase Dynamic Linking (above). If are wondering what a iOS Deep Links are, here is an <a href="https://www.originate.com/thinking/stories/deeplinking-in-ios/">article</a> that explains use cases for deep link URLs and how to create them.</p></body></html>
    </section>
    <div class="section-border"></div>
  </div><footer><p>© <!-- -->2020<!-- --> MetaRouter</p><p id="disclaimer"><strong>Disclaimer:</strong> MetaRouter Cloud leverages code from several of<!-- --> <a href="https://segment.com" target="_blank" rel="noopener noreferrer">Segment&#x27;s</a> <!-- -->fabulous library of open-source tools, including their<!-- --> <a href="https://segment.com/docs/sources/" target="_blank" rel="noopener noreferrer">source SDKs</a>,<!-- --> <a href="https://segment.com/docs/destinations" target="_blank" rel="noopener noreferrer">destinations</a>, and core<!-- --> <a href="https://segment.com/docs/sources/website/analytics.js/" target="_blank" rel="noopener noreferrer">Analytics.js</a> <!-- -->library. As some of the core configurations outlined in our docs are largely identical to Segment&#x27;s, we often re-purpose, and in some cases copy, directly from Segment&#x27;s docs. In the cases where we have forked Segment&#x27;s tools, we acknowledge and attribute all credit to Segment for their creation and subsequent documentation.</p></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/cloud-destinations/firebase/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c4f78aaf00ef3fb7b63b.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ab12cfe2f77aa8ed5f67.js"],"component---src-pages-index-js":["/component---src-pages-index-js-13d829700e7681fab1e5.js"],"component---src-templates-page-js":["/component---src-templates-page-js-b1464b131b7fa71a7728.js"],"component---src-templates-redirect-js":["/component---src-templates-redirect-js-eea53db7eb16be4a6a50.js"],"component---src-pages-404-js":["/component---src-pages-404-js-887e07450068e2bae70a.js"]};/*]]>*/</script><script src="/component---src-templates-page-js-b1464b131b7fa71a7728.js" async=""></script><script src="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-a022b712ec0ceed7b5e9.js" async=""></script><script src="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js" async=""></script><script src="/29107295-d2b2dd71af714b3e39b3.js" async=""></script><script src="/styles-ccfac98b72d746365bce.js" async=""></script><script src="/app-c4f78aaf00ef3fb7b63b.js" async=""></script><script src="/framework-ae968edc9080e69820cd.js" async=""></script><script src="/webpack-runtime-aefb07529d4167591c8b.js" async=""></script></body></html>