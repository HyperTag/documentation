<!DOCTYPE html><html lang="en" class=""><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="/styles.f22c9f3fc3f96e0fdd67.css" rel="stylesheet" type="text/css"/><meta name="generator" content="Gatsby 2.20.12"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">MetaRouter Documentation</title><meta data-react-helmet="true" name="description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" property="og:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="metarouter.io"/><meta data-react-helmet="true" name="twitter:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" name="twitter:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#292d66"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link as="script" rel="preload" href="/webpack-runtime-6861035cef6cf4529df9.js"/><link as="script" rel="preload" href="/framework-ae968edc9080e69820cd.js"/><link as="script" rel="preload" href="/app-c4f78aaf00ef3fb7b63b.js"/><link as="script" rel="preload" href="/styles-ccfac98b72d746365bce.js"/><link as="script" rel="preload" href="/29107295-d2b2dd71af714b3e39b3.js"/><link as="script" rel="preload" href="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js"/><link as="script" rel="preload" href="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-f31173c1348b57b8e12a.js"/><link as="script" rel="preload" href="/component---src-templates-page-js-b1464b131b7fa71a7728.js"/><link as="fetch" rel="preload" href="/page-data/enterprise-destinations/criteo/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="nav-list"><header><h1><a class="logo" href="/">MetaRouter Documentation</a></h1><input type="text" id="search-input" placeholder="search..."/></header><div class="scrollbox"><ul><li><a href="/">Platform Overview</a></li></ul><h2>Enterprise Edition</h2><ul data-title="enterprise-edition"><li><a href="/enterprise-edition/">Overview</a></li><li><a href="/enterprise-edition/#requirements">Requirements</a></li><li><a href="/enterprise-edition/#installation">Installation &amp; Updates</a></li><li><a href="/enterprise-edition/#config-and-management">Configuration &amp; Management</a></li></ul><h2>Enterprise Destinations</h2><ul data-title="enterprise-destinations"><li><a href="/enterprise-destinations/overview/">Overview</a></li><li><a href="/enterprise-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/enterprise-destinations/amplitude/">Amplitude</a></li><li><a href="/enterprise-destinations/blueshift/">Blueshift</a></li><li><a aria-current="page" class="" href="/enterprise-destinations/criteo/">Criteo</a></li><li><a href="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/enterprise-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/enterprise-destinations/google-adwords/">Google AdWords</a></li><li><a href="/enterprise-destinations/google-analytics/">Google Analytics</a></li><li><a href="/enterprise-destinations/media-math/">Media Math</a></li><li><a href="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/enterprise-destinations/pinterest-tag/">Pinterest Tag</a></li><li><a href="/enterprise-destinations/s3-event-logs/">s3 Event Logs</a></li></ul><h2>Cloud Edition</h2><ul data-title="cloud-edition"><li><a href="/cloud-edition/">Overview</a></li><li><a href="/cloud-edition/#cloud-api">Cloud API</a></li><li><a href="/cloud-edition/#clickstream-example">Clickstream Example</a></li><li><a href="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</a></li><li><a href="/cloud-edition/#switching-from-segment">Switching from Segment</a></li></ul><h2>Cloud Destinations</h2><ul data-title="cloud-destinations"><li><a href="/cloud-destinations/overview/">Overview</a></li><li><a href="/cloud-destinations/acquisio/">Acquisio</a></li><li><a href="/cloud-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</a></li><li><a href="/cloud-destinations/amazon-redshift/">Amazon Redshift</a></li><li><a href="/cloud-destinations/amplitude/">Amplitude</a></li><li><a href="/cloud-destinations/attribution/">Attribution</a></li><li><a href="/cloud-destinations/bloom-reach/">Bloom Reach</a></li><li><a href="/cloud-destinations/braze/">Braze</a></li><li><a href="/cloud-destinations/calq/">Calq</a></li><li><a href="/cloud-destinations/clicky/">Clicky</a></li><li><a href="/cloud-destinations/criteo/">Criteo</a></li><li><a href="/cloud-destinations/customer-io/">Customer.io</a></li><li><a href="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/cloud-destinations/drift/">Drift</a></li><li><a href="/cloud-destinations/facebook-app-events/">Facebook App Events</a></li><li><a href="/cloud-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/cloud-destinations/google-adwords/">Google AdWords</a></li><li><a href="/cloud-destinations/google-analytics/">Google Analytics</a></li><li><a href="/cloud-destinations/google-bigquery/">Google BigQuery</a></li><li><a href="/cloud-destinations/firebase/">Google Firebase</a></li><li><a href="/cloud-destinations/google-tag-manager/">Google Tag Manager</a></li><li><a href="/cloud-destinations/heap-analytics/">Heap Analytics</a></li><li><a href="/cloud-destinations/hotjar/">Hotjar</a></li><li><a href="/cloud-destinations/hubspot/">HubSpot</a></li><li><a href="/cloud-destinations/intercom/">Intercom</a></li><li><a href="/cloud-destinations/keen-io/">Keen</a></li><li><a href="/cloud-destinations/kenshoo/">Kenshoo</a></li><li><a href="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</a></li><li><a href="/cloud-destinations/kissmetrics/">KiSSmetrics</a></li><li><a href="/cloud-destinations/lucky-orange/">Lucky Orange</a></li><li><a href="/cloud-destinations/lytics/">Lytics</a></li><li><a href="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/cloud-destinations/mixpanel/">MixPanel</a></li><li><a href="/cloud-destinations/netmining/">Netmining</a></li><li><a href="/cloud-destinations/optimizely/">Optimizely</a></li><li><a href="/cloud-destinations/outbrain/">OutBrain</a></li><li><a href="/cloud-destinations/pebble-post/">Pebble Post</a></li><li><a href="/cloud-destinations/pinterest/">Pinterest Tag</a></li><li><a href="/cloud-destinations/resonate/">Resonate</a></li><li><a href="/cloud-destinations/retention-science/">Retention Science</a></li><li><a href="/cloud-destinations/rubicon/">Rubicon</a></li><li><a href="/cloud-destinations/s3-event-logs/">S3 Event Logs</a></li><li><a href="/cloud-destinations/sailthru/">Sailthru</a></li><li><a href="/cloud-destinations/slack/">Slack</a></li><li><a href="/cloud-destinations/taboola/">Taboola</a></li><li><a href="/cloud-destinations/twitter-ads/">Twitter Ads</a></li><li><a href="/cloud-destinations/vwo/">VWO</a></li><li><a href="/cloud-destinations/webhooks/">Webhooks</a></li><li><a href="/cloud-destinations/woopra/">Woopra</a></li></ul><h2>Sources &amp; SDKs</h2><ul data-title="sources-and-sdks"><li><a href="/sources-and-sdks/">Overview</a></li><li><a href="/sources/analytics-js/">Analytics.js</a></li><li><a href="/sources/analytics-js-common-fields/">Analytics.js Common Fields</a></li><li><a href="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</a></li><li><a href="/sources/android/">Android</a></li><li><a href="/sources/http-api/">HTTP API</a></li><li><a href="/sources/ios/">iOS</a></li><li><a href="/sources/java/">Java</a></li><li><a href="/sources/dot-net/">.NET</a></li><li><a href="/sources/node-js/">Node.js</a></li><li><a href="/sources/php/">PHP</a></li><li><a href="/sources/python/">Python</a></li><li><a href="/sources/react-native/">React Native</a></li><li><a href="/sources/ruby/">Ruby</a></li><li><a href="/sources/segment-webhook/">Segment Webhook</a></li></ul></div></div><main><nav class="clearfix"><ul class="header-links"><li><a href="https://metarouter.io">Home</a></li><li><a href="https://app.metarouter.io">App</a></li><li><a href="https://metarouter.io/#contact">Help</a></li></ul></nav><div class="nav-dropdown"><select><option value="/">Platform Overview</option><optgroup label="Enterprise Edition"><option value="/enterprise-edition/">Overview</option><option value="/enterprise-edition/#requirements">Requirements</option><option value="/enterprise-edition/#installation">Installation &amp; Updates</option><option value="/enterprise-edition/#config-and-management">Configuration &amp; Management</option></optgroup><optgroup label="Enterprise Destinations"><option value="/enterprise-destinations/overview/">Overview</option><option value="/enterprise-destinations/adobe-analytics/">Adobe Analytics</option><option value="/enterprise-destinations/amplitude/">Amplitude</option><option value="/enterprise-destinations/blueshift/">Blueshift</option><option value="/enterprise-destinations/criteo/">Criteo</option><option value="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/enterprise-destinations/facebook-pixel/">Facebook Pixel</option><option value="/enterprise-destinations/google-adwords/">Google AdWords</option><option value="/enterprise-destinations/google-analytics/">Google Analytics</option><option value="/enterprise-destinations/media-math/">Media Math</option><option value="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/enterprise-destinations/pinterest-tag/">Pinterest Tag</option><option value="/enterprise-destinations/s3-event-logs/">s3 Event Logs</option></optgroup><optgroup label="Cloud Edition"><option value="/cloud-edition/">Overview</option><option value="/cloud-edition/#cloud-api">Cloud API</option><option value="/cloud-edition/#clickstream-example">Clickstream Example</option><option value="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</option><option value="/cloud-edition/#switching-from-segment">Switching from Segment</option></optgroup><optgroup label="Cloud Destinations"><option value="/cloud-destinations/overview/">Overview</option><option value="/cloud-destinations/acquisio/">Acquisio</option><option value="/cloud-destinations/adobe-analytics/">Adobe Analytics</option><option value="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</option><option value="/cloud-destinations/amazon-redshift/">Amazon Redshift</option><option value="/cloud-destinations/amplitude/">Amplitude</option><option value="/cloud-destinations/attribution/">Attribution</option><option value="/cloud-destinations/bloom-reach/">Bloom Reach</option><option value="/cloud-destinations/braze/">Braze</option><option value="/cloud-destinations/calq/">Calq</option><option value="/cloud-destinations/clicky/">Clicky</option><option value="/cloud-destinations/criteo/">Criteo</option><option value="/cloud-destinations/customer-io/">Customer.io</option><option value="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/cloud-destinations/drift/">Drift</option><option value="/cloud-destinations/facebook-app-events/">Facebook App Events</option><option value="/cloud-destinations/facebook-pixel/">Facebook Pixel</option><option value="/cloud-destinations/google-adwords/">Google AdWords</option><option value="/cloud-destinations/google-analytics/">Google Analytics</option><option value="/cloud-destinations/google-bigquery/">Google BigQuery</option><option value="/cloud-destinations/firebase/">Google Firebase</option><option value="/cloud-destinations/google-tag-manager/">Google Tag Manager</option><option value="/cloud-destinations/heap-analytics/">Heap Analytics</option><option value="/cloud-destinations/hotjar/">Hotjar</option><option value="/cloud-destinations/hubspot/">HubSpot</option><option value="/cloud-destinations/intercom/">Intercom</option><option value="/cloud-destinations/keen-io/">Keen</option><option value="/cloud-destinations/kenshoo/">Kenshoo</option><option value="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</option><option value="/cloud-destinations/kissmetrics/">KiSSmetrics</option><option value="/cloud-destinations/lucky-orange/">Lucky Orange</option><option value="/cloud-destinations/lytics/">Lytics</option><option value="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/cloud-destinations/mixpanel/">MixPanel</option><option value="/cloud-destinations/netmining/">Netmining</option><option value="/cloud-destinations/optimizely/">Optimizely</option><option value="/cloud-destinations/outbrain/">OutBrain</option><option value="/cloud-destinations/pebble-post/">Pebble Post</option><option value="/cloud-destinations/pinterest/">Pinterest Tag</option><option value="/cloud-destinations/resonate/">Resonate</option><option value="/cloud-destinations/retention-science/">Retention Science</option><option value="/cloud-destinations/rubicon/">Rubicon</option><option value="/cloud-destinations/s3-event-logs/">S3 Event Logs</option><option value="/cloud-destinations/sailthru/">Sailthru</option><option value="/cloud-destinations/slack/">Slack</option><option value="/cloud-destinations/taboola/">Taboola</option><option value="/cloud-destinations/twitter-ads/">Twitter Ads</option><option value="/cloud-destinations/vwo/">VWO</option><option value="/cloud-destinations/webhooks/">Webhooks</option><option value="/cloud-destinations/woopra/">Woopra</option></optgroup><optgroup label="Sources &amp; SDKs"><option value="/sources-and-sdks/">Overview</option><option value="/sources/analytics-js/">Analytics.js</option><option value="/sources/analytics-js-common-fields/">Analytics.js Common Fields</option><option value="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</option><option value="/sources/android/">Android</option><option value="/sources/http-api/">HTTP API</option><option value="/sources/ios/">iOS</option><option value="/sources/java/">Java</option><option value="/sources/dot-net/">.NET</option><option value="/sources/node-js/">Node.js</option><option value="/sources/php/">PHP</option><option value="/sources/python/">Python</option><option value="/sources/react-native/">React Native</option><option value="/sources/ruby/">Ruby</option><option value="/sources/segment-webhook/">Segment Webhook</option></optgroup></select></div><div>
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>On this Page:</h6>
        <ul><li><a href="#why-send-data-to-criteo-using-metarouter">Why send data to Criteo using MetaRouter?</a></li> <li><a href="#getting-started-with-criteo-and-metarouter">Getting Started with Criteo and MetaRouter</a></li> <li><a href="#examples">Examples</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="criteo" style="position:relative;" data-tags="enterprise,destinations"><a href="#" aria-label="criteo permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Criteo</h1>
<p>Criteo drives sales for e-commerce businesses, intelligently converting shoppers with dynamic, personalized ads.</p>
<p>MetaRouter makes it easy to send your data to <a href="http://www.criteo.com/">Criteo</a> (and lots of other destinations). Once you follow the steps below, your data will be routed through our platform and pushed to Criteo in the format they understand.</p>
<h2 id="why-send-data-to-criteo-using-metarouter" style="position:relative;"><a href="#why-send-data-to-criteo-using-metarouter" aria-label="why send data to criteo using metarouter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Why send data to Criteo using MetaRouter?</h2>
<p>With MetaRouter, you can use Criteo without having to install their JavaScript library on every page of your site. We also eliminate the need to write custom code to track user event data. Once Criteo is routed through MetaRouter, our platform translates page views and events into corresponding Criteo events.</p>
<h2 id="getting-started-with-criteo-and-metarouter" style="position:relative;"><a href="#getting-started-with-criteo-and-metarouter" aria-label="getting started with criteo and metarouter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Getting Started with Criteo and MetaRouter</h2>
<h3 id="criteo-side" style="position:relative;"><a href="#criteo-side" aria-label="criteo side permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Criteo Side</h3>
<p>To get started with this integration, you&#x2019;ll first need to have access to a Criteo account. The information that you&apos;ll need forward is your Criteo Account ID and the assigned GUM ID.</p>
<h3 id="metarouter-side" style="position:relative;"><a href="#metarouter-side" aria-label="metarouter side permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>MetaRouter Side</h3>
<h4 id="configuration-file" style="position:relative;"><a href="#configuration-file" aria-label="configuration file permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Configuration file</h4>
<p>This configuration file allows you to set your own configuration based on how you interact with Criteo. Here&apos;s a configuration file that includes all the settings that you can apply - <code class="language-text">gumId</code> and <code class="language-text">partnerId</code> are the only mandatory fields, everything else is optional.</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;criteo&apos;</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">gumId</span><span class="token punctuation">:</span> <span class="token string">&apos;GUM_ID&apos;</span>
    <span class="token key atrule">partnerId</span><span class="token punctuation">:</span> <span class="token string">&apos;ACCOUNT_ID&apos;</span>
    <span class="token key atrule">isDeduplicationOn</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">defaultSiteType</span><span class="token punctuation">:</span> <span class="token string">&apos;d&apos;</span>
    <span class="token key atrule">standardEvents</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&apos;Order Updated&apos;</span>
        <span class="token key atrule">to</span><span class="token punctuation">:</span> <span class="token string">&apos;viewListing&apos;</span>
        <span class="token key atrule">params</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;product&apos;</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">&apos;pids&apos;</span>
    <span class="token key atrule">additionalEvents</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&apos;setHashedEmail&apos;</span>
        <span class="token key atrule">params</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;email&apos;</span>
      <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&apos;setZipCode&apos;</span>
        <span class="token key atrule">params</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;zipcode&apos;</span>
      <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&apos;setStore&apos;</span>
        <span class="token key atrule">params</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;store_id&apos;</span>
    <span class="token key atrule">eventGrouping</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span> <span class="token string">&apos;viewHome&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setHashedEmail&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setZipCode&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setStore&apos;</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span> <span class="token string">&apos;viewProduct&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setHashedEmail&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setZipCode&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setStore&apos;</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span> <span class="token string">&apos;viewListing&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setHashedEmail&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setZipCode&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setStore&apos;</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span> <span class="token string">&apos;viewBasket&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setHashedEmail&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setZipCode&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setStore&apos;</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span> <span class="token string">&apos;trackTransaction&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setHashedEmail&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setZipCode&apos;</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span> <span class="token string">&apos;viewStore&apos;</span>
        <span class="token punctuation">-</span> <span class="token string">&apos;setHashedEmail&apos;</span></code></pre></div>
<ul>
<li>
<p><code class="language-text">gumId</code> : String (required)</p>
<ul>
<li>the GUM ID value from your Criteo account</li>
</ul>
</li>
<li>
<p><code class="language-text">partnerId</code> : String (required)</p>
<ul>
<li>your Account (Partner) ID from your Criteo account</li>
</ul>
</li>
<li>
<p><code class="language-text">isDeduplicationOn</code> : Bool (optional)</p>
<ul>
<li>will allow you to set the Criteo&apos;s <code class="language-text">deduplication</code> parameter for your calls</li>
<li>default value: <code class="language-text">0</code></li>
</ul>
</li>
<li>
<p><code class="language-text">defaultSiteType</code> : String (optional) - one of these values:</p>
<ul>
<li><code class="language-text">m</code> : for mobile</li>
<li><code class="language-text">t</code> : for tablet</li>
<li><code class="language-text">d</code> : for desktop</li>
<li>default value: <code class="language-text">d</code></li>
</ul>
</li>
<li>
<p><code class="language-text">standardEvents</code> : Array of Objects (optional)</p>
<ul>
<li>by default, MetaRouter will map some of the E-commerce events to standard Criteo events.</li>
<li>this config option allows you to map your own event to a specific Criteo standard event</li>
<li>each Object in the Array (one Object in Array equals one mapping) should have the following structure:</li>
<li><code class="language-text">event</code> : String - your event name</li>
<li><code class="language-text">to</code> : String - Criteo standard event name</li>
<li>
<p><code class="language-text">params</code> : Object with the following structure:</p>
<ul>
<li><code class="language-text">name</code> : String - the param name that will be sent to Criteo</li>
<li><code class="language-text">type</code> : String - the param type of values that you want to send to Criteo. These are the accepted values for <code class="language-text">type</code>:</li>
<li>
<p><code class="language-text">ps</code></p>
<ul>
<li>will send an Array of Strings representing products IDs</li>
<li>the value will be retrieved from <code class="language-text">properties.product</code> or <code class="language-text">properties.products</code></li>
<li>if the value type is Array, it will be sent as is</li>
<li>if the value type is String, it will be processed into an Array by spliting the String value on commas</li>
</ul>
</li>
<li><code class="language-text">pid</code> : will send a String representing the product ID</li>
<li><code class="language-text">pids</code> : will send an Array of Strings representing products IDs</li>
<li>
<p><code class="language-text">products-short</code> : will send an Array of Objects where each object has the following structure:</p>
<ul>
<li><code class="language-text">id</code> : String - product id</li>
<li><code class="language-text">price</code> : Integer / Float - product price</li>
<li><code class="language-text">quantity</code> : Integer - product quantity</li>
</ul>
</li>
<li><code class="language-text">products-full</code> : will send an Array of Objects where each object will have the same structure that you are passing from your own event</li>
<li><code class="language-text">tid</code> : will send a String representing transaction / order ID</li>
<li>if <strong>no <code class="language-text">type</code> provided</strong>, we&apos;ll search for <code class="language-text">property.[name]</code> and we&apos;ll use this value for this param</li>
</ul>
</li>
</ul>
<h2 id="examples" style="position:relative;"><a href="#examples" aria-label="examples permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Examples</h2>
<p>Let&apos;s assume you will add the following <code class="language-text">standardEvents</code> value:</p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">standardEvents</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&apos;Order Updated&apos;</span>
  <span class="token key atrule">to</span><span class="token punctuation">:</span> <span class="token string">&apos;viewListing&apos;</span>
  <span class="token key atrule">params</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;product&apos;</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">&apos;pids&apos;</span>
<span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&apos;Modal Opened&apos;</span>
  <span class="token key atrule">to</span><span class="token punctuation">:</span> <span class="token string">&apos;viewProduct&apos;</span>
  <span class="token key atrule">params</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;modal&apos;</span></code></pre></div>
<p>Here&apos;s how the events will be mapped:</p>
<h3 id="triggered-analyticsjs-event" style="position:relative;"><a href="#triggered-analyticsjs-event" aria-label="triggered analyticsjs event permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Triggered Analytics.js event</h3>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Order Updated&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
order_id<span class="token operator">:</span> <span class="token string">&apos;50314b8e9bcf000000000000&apos;</span><span class="token punctuation">,</span>
revenue<span class="token operator">:</span> <span class="token number">25.0</span><span class="token punctuation">,</span>
currency<span class="token operator">:</span> <span class="token string">&apos;USD&apos;</span><span class="token punctuation">,</span>
products<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    product_id<span class="token operator">:</span> <span class="token string">&apos;507f1f77bcf86cd799439011&apos;</span><span class="token punctuation">,</span>
    sku<span class="token operator">:</span> <span class="token string">&apos;45790-32&apos;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&apos;Monopoly: 3rd Edition&apos;</span><span class="token punctuation">,</span>
    price<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
    quantity<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    category<span class="token operator">:</span> <span class="token string">&apos;Games&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    product_id<span class="token operator">:</span> <span class="token string">&apos;505bd76785ebb509fc183733&apos;</span><span class="token punctuation">,</span>
    sku<span class="token operator">:</span> <span class="token string">&apos;46493-32&apos;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&apos;Uno Card Game&apos;</span><span class="token punctuation">,</span>
    price<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    quantity<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    category<span class="token operator">:</span> <span class="token string">&apos;Games&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="mapped-criteo-event" style="position:relative;"><a href="#mapped-criteo-event" aria-label="mapped criteo event permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Mapped Criteo event</h3>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;viewListing&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;product&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;507f1f77bcf86cd799439011&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;505bd76785ebb509fc183733&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<h3 id="triggered-analyticsjs-event-1" style="position:relative;"><a href="#triggered-analyticsjs-event-1" aria-label="triggered analyticsjs event 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Triggered Analytics.js event</h3>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Modal Opened&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
modal<span class="token operator">:</span> <span class="token string">&apos;6cd799439011507f1f77bcf8&apos;</span><span class="token punctuation">,</span>
price<span class="token operator">:</span> <span class="token number">25.0</span><span class="token punctuation">,</span>
currency<span class="token operator">:</span> <span class="token string">&apos;USD&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="mapped-criteo-event-1" style="position:relative;"><a href="#mapped-criteo-event-1" aria-label="mapped criteo event 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Mapped Criteo event</h3>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;viewProduct&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;modal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6cd799439011507f1f77bcf8&quot;</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p><code class="language-text">additionalEvents</code> : (optional) Array of Objects</p>
<ul>
<li>follows the same structure as <code class="language-text">standardEvents</code> but this will allows you to define events that will be used as additional events fired in groups, attached to specific standard events</li>
<li>to populate params with specific values for additional events, you need to pass the values with your track call by adding the key directly on the <code class="language-text">properties</code> object sent with the event (see Example below)</li>
<li>Example:
Let&apos;s assume you will add the following <code class="language-text">additionalEvents</code> value:</li>
</ul>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">additionalEvents</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&apos;setZipcode&apos;</span>
    <span class="token key atrule">params</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&apos;zipcode&apos;</span></code></pre></div>
<p>Your track call should look like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Product Viewed&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  product_id<span class="token operator">:</span> <span class="token string">&apos;507f1f77bcf86cd799439011&apos;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&apos;Monopoly: 3rd Edition&apos;</span><span class="token punctuation">,</span>
  price<span class="token operator">:</span> <span class="token number">18.99</span><span class="token punctuation">,</span>
  quantity<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  zipcode<span class="token operator">:</span> <span class="token string">&apos;XXXXXX&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The additional event mapped that will be sent to Criteo will look like this:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;setZipcode&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;zipcode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;XXXXXX&quot;</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p><code class="language-text">eventGrouping</code> - Array of Arrays, <strong>optional</strong></p>
<ul>
<li>Criteo allows you to send multiple events grouped into a single API call. This option allows you to define groups of events</li>
<li>Example:
Let&apos;s assume you will add the following <code class="language-text">additionalEvents</code> and <code class="language-text">eventGrouping</code> value:</li>
</ul>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">additionalEvents</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&quot;setHashedEmail&quot;</span>
    <span class="token key atrule">params</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;email&quot;</span>
  <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&quot;setZipCode&quot;</span>
    <span class="token key atrule">params</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;zipcode&quot;</span>
  <span class="token punctuation">-</span> <span class="token key atrule">event</span><span class="token punctuation">:</span> <span class="token string">&quot;setStore&quot;</span>
    <span class="token key atrule">params</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;store_id&quot;</span>
<span class="token key atrule">eventGrouping</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;viewProduct&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;setHashedEmail&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;setZipCode&quot;</span>
    <span class="token punctuation">-</span> &quot;setS</code></pre></div>
<p>This means that when <code class="language-text">Product Viewed</code> event is triggered like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Product Viewed&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    product_id<span class="token operator">:</span> <span class="token string">&apos;507f1f77bcf86cd799439011&apos;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&apos;Monopoly: 3rd Edition&apos;</span><span class="token punctuation">,</span>
    price<span class="token operator">:</span> <span class="token number">18.99</span><span class="token punctuation">,</span>
    quantity<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  integrations<span class="token operator">:</span> <span class="token punctuation">{</span>
    Criteo<span class="token operator">:</span> <span class="token punctuation">{</span>
      email<span class="token operator">:</span> <span class="token string">&quot;EDD9738967D46927C73AD068CAD486AD&quot;</span><span class="token punctuation">,</span>
      zipcode<span class="token operator">:</span> <span class="token string">&quot;XXXXXX&quot;</span><span class="token punctuation">,</span>
      store_id<span class="token operator">:</span> <span class="token string">&quot;1234&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>We&apos;ll send the following to Criteo&apos;s API:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;viewProduct&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;product&quot;</span><span class="token operator">:</span> <span class="token string">&quot;507f1f77bcf86cd799439011&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;setHashedEmail&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EDD9738967D46927C73AD068CAD486AD&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;setZipCode&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;zipcode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;XXXXXX&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;setStore&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;store_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
<h4 id="identify-calls" style="position:relative;"><a href="#identify-calls" aria-label="identify calls permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Identify calls</h4>
<p>Criteo identification is based on the client side API call to <a href="http://gum.criteo.com/sync">http://gum.criteo.com/sync</a> endpoint - passing it the GUM ID will return a specific user id - this user id is used on every call made, making the identify calls unnecessary - we&apos;re taking care of adding the user id to every call.</p>
<h4 id="page-calls" style="position:relative;"><a href="#page-calls" aria-label="page calls permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Page calls</h4>
<p>Criteo does not provide an API for tracking page views, but it does allow the usage of <code class="language-text">viewHome</code> event that should be called on the homepage of an website. To not alter other integrations, the Criteo integration will only react to page calls similar to this one:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span><span class="token string">&apos;Page Name&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> viewHome<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>If <code class="language-text">properties.viewHome</code> is not present or is set to <code class="language-text">false</code>, the page call is <strong>dropped</strong>.</p>
<h4 id="track-calls" style="position:relative;"><a href="#track-calls" aria-label="track calls permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Track calls</h4>
<p><strong>Standard events:</strong> this is the list of standard events available from Criteo:</p>
<ul>
<li><code class="language-text">viewHome</code></li>
<li><code class="language-text">viewProduct</code></li>
<li><code class="language-text">viewListing</code></li>
<li><code class="language-text">viewBasket</code></li>
<li><code class="language-text">trackTransaction</code></li>
<li><code class="language-text">viewStore</code></li>
</ul>
<p>For each of these events, Criteo is suggesting a grouping of events as follows:</p>
<ul>
<li><code class="language-text">viewHome</code> &#x21D2; <code class="language-text">setHashedEmail</code>, <code class="language-text">setZipcode</code>,<code class="language-text">setStore</code></li>
<li><code class="language-text">viewProduct</code> &#x21D2; <code class="language-text">setHashedEmail</code>, <code class="language-text">setZipcode</code>,<code class="language-text">setStore</code></li>
<li><code class="language-text">viewListing</code> &#x21D2; <code class="language-text">setHashedEmail</code>, <code class="language-text">setZipcode</code>,<code class="language-text">setStore</code></li>
<li><code class="language-text">viewBasket</code> &#x21D2; <code class="language-text">setHashedEmail</code>, <code class="language-text">setZipcode</code>,<code class="language-text">setStore</code></li>
<li><code class="language-text">trackTransaction</code> &#x21D2; <code class="language-text">setHashedEmail</code>, <code class="language-text">setZipcode</code>,<code class="language-text">setStore</code></li>
<li><code class="language-text">viewStore</code> &#x21D2; <code class="language-text">setHashedEmail</code></li>
</ul>
<p>This means that, for example, if a <code class="language-text">viewProduct</code> event is triggered, the actual events that will be sent are: <code class="language-text">viewProduct</code>, <code class="language-text">setHashedEmail</code>, <code class="language-text">setZipcode</code> and <code class="language-text">setStore</code>.</p>
<p>By default, we map some of the Analytics.js Standard E-commerce events to Criteo Standard events, as follows:</p>
<table>
<thead>
<tr>
<th align="left">Analytics.js</th>
<th align="left">Criteo Standard Event</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Products Searched</td>
<td align="left"><code class="language-text">viewListing</code></td>
</tr>
<tr>
<td align="left">Product List Viewed</td>
<td align="left"><code class="language-text">viewListing</code></td>
</tr>
<tr>
<td align="left">Product List Filtered</td>
<td align="left"><code class="language-text">viewListing</code></td>
</tr>
<tr>
<td align="left">Product Viewed</td>
<td align="left"><code class="language-text">viewProduct</code></td>
</tr>
<tr>
<td align="left">Cart Viewed</td>
<td align="left"><code class="language-text">viewBasket</code></td>
</tr>
<tr>
<td align="left">Order Completed</td>
<td align="left"><code class="language-text">trackTransaction</code></td>
</tr>
</tbody>
</table>
<p><strong>Custom events:</strong> For any custom event call, Criteo&apos;s API is responding with a <code class="language-text">200 ok</code> status, but <strong>any custom event is dropped by Criteo</strong>. To avoid triggering a call that is eventually dropped by Criteo, we&apos;re <strong>dropping</strong> any custom event.</p>
<h4 id="setting-emails" style="position:relative;"><a href="#setting-emails" aria-label="setting emails permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Setting Emails</h4>
<p>It&#x2019;s easy to associate emails with a user, if there&#x2019;s an <code class="language-text">email</code> property in the track call, we&#x2019;ll include the <code class="language-text">setHashedEmail</code> event to Criteo along with your event. The email value needs to be MD5-hash of the lowercase email (i.e. <code class="language-text">MD5(user@domain.com)</code> ). To pass the <code class="language-text">email</code> property your <code class="language-text">track</code> call should be trigger like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Event Name&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  email<span class="token operator">:</span> <span class="token string">&quot;HASHED_EMAIL&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h4 id="setting-zip-codes" style="position:relative;"><a href="#setting-zip-codes" aria-label="setting zip codes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Setting zip codes</h4>
<p>It&#x2019;s easy to set a zip code to all track calls - if there&#x2019;s a <code class="language-text">zipcode</code> property in the <code class="language-text">track</code> call, we&#x2019;ll include the <code class="language-text">setZipcode</code> event to Criteo along with your event. To pass the <code class="language-text">zipcode</code> property your <code class="language-text">track</code> call should be trigger like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Event Name&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  zipcode<span class="token operator">:</span> <span class="token string">&quot;ZIPCODE_VALUE&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h4 id="setting-store-ids" style="position:relative;"><a href="#setting-store-ids" aria-label="setting store ids permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Setting store ids</h4>
<p>It&#x2019;s easy to set a store id to all track calls - if there&#x2019;s a <code class="language-text">store_id</code> property in the <code class="language-text">track</code> call, we&#x2019;ll include the <code class="language-text">setStore</code> event to Criteo along with your event. To pass the <code class="language-text">store_id</code> property your <code class="language-text">track</code> call should be trigger like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Event Name&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  store_id<span class="token operator">:</span> <span class="token string">&quot;STORE_ID&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div></body></html>
    </section>
    <div class="section-border"></div>
  </div><footer><p>© <!-- -->2020<!-- --> MetaRouter</p><p id="disclaimer"><strong>Disclaimer:</strong> MetaRouter Cloud leverages code from several of<!-- --> <a href="https://segment.com" target="_blank" rel="noopener noreferrer">Segment&#x27;s</a> <!-- -->fabulous library of open-source tools, including their<!-- --> <a href="https://segment.com/docs/sources/" target="_blank" rel="noopener noreferrer">source SDKs</a>,<!-- --> <a href="https://segment.com/docs/destinations" target="_blank" rel="noopener noreferrer">destinations</a>, and core<!-- --> <a href="https://segment.com/docs/sources/website/analytics.js/" target="_blank" rel="noopener noreferrer">Analytics.js</a> <!-- -->library. As some of the core configurations outlined in our docs are largely identical to Segment&#x27;s, we often re-purpose, and in some cases copy, directly from Segment&#x27;s docs. In the cases where we have forked Segment&#x27;s tools, we acknowledge and attribute all credit to Segment for their creation and subsequent documentation.</p></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/enterprise-destinations/criteo/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c4f78aaf00ef3fb7b63b.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ab12cfe2f77aa8ed5f67.js"],"component---src-pages-index-js":["/component---src-pages-index-js-13d829700e7681fab1e5.js"],"component---src-templates-page-js":["/component---src-templates-page-js-b1464b131b7fa71a7728.js"],"component---src-templates-redirect-js":["/component---src-templates-redirect-js-eea53db7eb16be4a6a50.js"],"component---src-pages-404-js":["/component---src-pages-404-js-887e07450068e2bae70a.js"]};/*]]>*/</script><script src="/component---src-templates-page-js-b1464b131b7fa71a7728.js" async=""></script><script src="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-f31173c1348b57b8e12a.js" async=""></script><script src="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js" async=""></script><script src="/29107295-d2b2dd71af714b3e39b3.js" async=""></script><script src="/styles-ccfac98b72d746365bce.js" async=""></script><script src="/app-c4f78aaf00ef3fb7b63b.js" async=""></script><script src="/framework-ae968edc9080e69820cd.js" async=""></script><script src="/webpack-runtime-6861035cef6cf4529df9.js" async=""></script></body></html>