<!DOCTYPE html><html lang="en" class=""><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="/styles.f22c9f3fc3f96e0fdd67.css" rel="stylesheet" type="text/css"/><meta name="generator" content="Gatsby 2.20.12"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">MetaRouter Documentation</title><meta data-react-helmet="true" name="description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" property="og:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="metarouter.io"/><meta data-react-helmet="true" name="twitter:title" content="MetaRouter Documentation"/><meta data-react-helmet="true" name="twitter:description" content="MetaRouter is a data engineering platform that that helps you collect, process, and route streaming data."/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#292d66"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ed0b129b56a61f5415b8a514dbf567e3"/><link as="script" rel="preload" href="/webpack-runtime-50648a32785dd8021b46.js"/><link as="script" rel="preload" href="/framework-ae968edc9080e69820cd.js"/><link as="script" rel="preload" href="/app-c4f78aaf00ef3fb7b63b.js"/><link as="script" rel="preload" href="/styles-ccfac98b72d746365bce.js"/><link as="script" rel="preload" href="/29107295-d2b2dd71af714b3e39b3.js"/><link as="script" rel="preload" href="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js"/><link as="script" rel="preload" href="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-3a3850d2ded75e2e5627.js"/><link as="script" rel="preload" href="/component---src-templates-page-js-b1464b131b7fa71a7728.js"/><link as="fetch" rel="preload" href="/page-data/enterprise-destinations/google-analytics/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="nav-list"><header><h1><a class="logo" href="/">MetaRouter Documentation</a></h1><input type="text" id="search-input" placeholder="search..."/></header><div class="scrollbox"><ul><li><a href="/">Platform Overview</a></li></ul><h2>Enterprise Edition</h2><ul data-title="enterprise-edition"><li><a href="/enterprise-edition/">Overview</a></li><li><a href="/enterprise-edition/#requirements">Requirements</a></li><li><a href="/enterprise-edition/#installation">Installation &amp; Updates</a></li><li><a href="/enterprise-edition/#config-and-management">Configuration &amp; Management</a></li></ul><h2>Enterprise Destinations</h2><ul data-title="enterprise-destinations"><li><a href="/enterprise-destinations/overview/">Overview</a></li><li><a href="/enterprise-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/enterprise-destinations/amplitude/">Amplitude</a></li><li><a href="/enterprise-destinations/blueshift/">Blueshift</a></li><li><a href="/enterprise-destinations/criteo/">Criteo</a></li><li><a href="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/enterprise-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/enterprise-destinations/google-adwords/">Google AdWords</a></li><li><a aria-current="page" class="" href="/enterprise-destinations/google-analytics/">Google Analytics</a></li><li><a href="/enterprise-destinations/media-math/">Media Math</a></li><li><a href="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/enterprise-destinations/pinterest-tag/">Pinterest Tag</a></li><li><a href="/enterprise-destinations/s3-event-logs/">s3 Event Logs</a></li></ul><h2>Cloud Edition</h2><ul data-title="cloud-edition"><li><a href="/cloud-edition/">Overview</a></li><li><a href="/cloud-edition/#cloud-api">Cloud API</a></li><li><a href="/cloud-edition/#clickstream-example">Clickstream Example</a></li><li><a href="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</a></li><li><a href="/cloud-edition/#switching-from-segment">Switching from Segment</a></li></ul><h2>Cloud Destinations</h2><ul data-title="cloud-destinations"><li><a href="/cloud-destinations/overview/">Overview</a></li><li><a href="/cloud-destinations/acquisio/">Acquisio</a></li><li><a href="/cloud-destinations/adobe-analytics/">Adobe Analytics</a></li><li><a href="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</a></li><li><a href="/cloud-destinations/amazon-redshift/">Amazon Redshift</a></li><li><a href="/cloud-destinations/amplitude/">Amplitude</a></li><li><a href="/cloud-destinations/attribution/">Attribution</a></li><li><a href="/cloud-destinations/bloom-reach/">Bloom Reach</a></li><li><a href="/cloud-destinations/braze/">Braze</a></li><li><a href="/cloud-destinations/calq/">Calq</a></li><li><a href="/cloud-destinations/clicky/">Clicky</a></li><li><a href="/cloud-destinations/criteo/">Criteo</a></li><li><a href="/cloud-destinations/customer-io/">Customer.io</a></li><li><a href="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</a></li><li><a href="/cloud-destinations/drift/">Drift</a></li><li><a href="/cloud-destinations/facebook-app-events/">Facebook App Events</a></li><li><a href="/cloud-destinations/facebook-pixel/">Facebook Pixel</a></li><li><a href="/cloud-destinations/google-adwords/">Google AdWords</a></li><li><a href="/cloud-destinations/google-analytics/">Google Analytics</a></li><li><a href="/cloud-destinations/google-bigquery/">Google BigQuery</a></li><li><a href="/cloud-destinations/firebase/">Google Firebase</a></li><li><a href="/cloud-destinations/google-tag-manager/">Google Tag Manager</a></li><li><a href="/cloud-destinations/heap-analytics/">Heap Analytics</a></li><li><a href="/cloud-destinations/hotjar/">Hotjar</a></li><li><a href="/cloud-destinations/hubspot/">HubSpot</a></li><li><a href="/cloud-destinations/intercom/">Intercom</a></li><li><a href="/cloud-destinations/keen-io/">Keen</a></li><li><a href="/cloud-destinations/kenshoo/">Kenshoo</a></li><li><a href="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</a></li><li><a href="/cloud-destinations/kissmetrics/">KiSSmetrics</a></li><li><a href="/cloud-destinations/lucky-orange/">Lucky Orange</a></li><li><a href="/cloud-destinations/lytics/">Lytics</a></li><li><a href="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</a></li><li><a href="/cloud-destinations/mixpanel/">MixPanel</a></li><li><a href="/cloud-destinations/netmining/">Netmining</a></li><li><a href="/cloud-destinations/optimizely/">Optimizely</a></li><li><a href="/cloud-destinations/outbrain/">OutBrain</a></li><li><a href="/cloud-destinations/pebble-post/">Pebble Post</a></li><li><a href="/cloud-destinations/pinterest/">Pinterest Tag</a></li><li><a href="/cloud-destinations/resonate/">Resonate</a></li><li><a href="/cloud-destinations/retention-science/">Retention Science</a></li><li><a href="/cloud-destinations/rubicon/">Rubicon</a></li><li><a href="/cloud-destinations/s3-event-logs/">S3 Event Logs</a></li><li><a href="/cloud-destinations/sailthru/">Sailthru</a></li><li><a href="/cloud-destinations/slack/">Slack</a></li><li><a href="/cloud-destinations/taboola/">Taboola</a></li><li><a href="/cloud-destinations/twitter-ads/">Twitter Ads</a></li><li><a href="/cloud-destinations/vwo/">VWO</a></li><li><a href="/cloud-destinations/webhooks/">Webhooks</a></li><li><a href="/cloud-destinations/woopra/">Woopra</a></li></ul><h2>Sources &amp; SDKs</h2><ul data-title="sources-and-sdks"><li><a href="/sources-and-sdks/">Overview</a></li><li><a href="/sources/analytics-js/">Analytics.js</a></li><li><a href="/sources/analytics-js-common-fields/">Analytics.js Common Fields</a></li><li><a href="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</a></li><li><a href="/sources/android/">Android</a></li><li><a href="/sources/http-api/">HTTP API</a></li><li><a href="/sources/ios/">iOS</a></li><li><a href="/sources/java/">Java</a></li><li><a href="/sources/dot-net/">.NET</a></li><li><a href="/sources/node-js/">Node.js</a></li><li><a href="/sources/php/">PHP</a></li><li><a href="/sources/python/">Python</a></li><li><a href="/sources/react-native/">React Native</a></li><li><a href="/sources/ruby/">Ruby</a></li><li><a href="/sources/segment-webhook/">Segment Webhook</a></li></ul></div></div><main><nav class="clearfix"><ul class="header-links"><li><a href="https://metarouter.io">Home</a></li><li><a href="https://app.metarouter.io">App</a></li><li><a href="https://metarouter.io/#contact">Help</a></li></ul></nav><div class="nav-dropdown"><select><option value="/">Platform Overview</option><optgroup label="Enterprise Edition"><option value="/enterprise-edition/">Overview</option><option value="/enterprise-edition/#requirements">Requirements</option><option value="/enterprise-edition/#installation">Installation &amp; Updates</option><option value="/enterprise-edition/#config-and-management">Configuration &amp; Management</option></optgroup><optgroup label="Enterprise Destinations"><option value="/enterprise-destinations/overview/">Overview</option><option value="/enterprise-destinations/adobe-analytics/">Adobe Analytics</option><option value="/enterprise-destinations/amplitude/">Amplitude</option><option value="/enterprise-destinations/blueshift/">Blueshift</option><option value="/enterprise-destinations/criteo/">Criteo</option><option value="/enterprise-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/enterprise-destinations/facebook-pixel/">Facebook Pixel</option><option value="/enterprise-destinations/google-adwords/">Google AdWords</option><option value="/enterprise-destinations/google-analytics/">Google Analytics</option><option value="/enterprise-destinations/media-math/">Media Math</option><option value="/enterprise-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/enterprise-destinations/pinterest-tag/">Pinterest Tag</option><option value="/enterprise-destinations/s3-event-logs/">s3 Event Logs</option></optgroup><optgroup label="Cloud Edition"><option value="/cloud-edition/">Overview</option><option value="/cloud-edition/#cloud-api">Cloud API</option><option value="/cloud-edition/#clickstream-example">Clickstream Example</option><option value="/cloud-edition/#compare-with-segment">Compare MetaRouter and Segment</option><option value="/cloud-edition/#switching-from-segment">Switching from Segment</option></optgroup><optgroup label="Cloud Destinations"><option value="/cloud-destinations/overview/">Overview</option><option value="/cloud-destinations/acquisio/">Acquisio</option><option value="/cloud-destinations/adobe-analytics/">Adobe Analytics</option><option value="/cloud-destinations/amazon-kinesis/">Amazon Kinesis</option><option value="/cloud-destinations/amazon-redshift/">Amazon Redshift</option><option value="/cloud-destinations/amplitude/">Amplitude</option><option value="/cloud-destinations/attribution/">Attribution</option><option value="/cloud-destinations/bloom-reach/">Bloom Reach</option><option value="/cloud-destinations/braze/">Braze</option><option value="/cloud-destinations/calq/">Calq</option><option value="/cloud-destinations/clicky/">Clicky</option><option value="/cloud-destinations/criteo/">Criteo</option><option value="/cloud-destinations/customer-io/">Customer.io</option><option value="/cloud-destinations/doubleclick-floodlight/">DoubleClick Floodlight</option><option value="/cloud-destinations/drift/">Drift</option><option value="/cloud-destinations/facebook-app-events/">Facebook App Events</option><option value="/cloud-destinations/facebook-pixel/">Facebook Pixel</option><option value="/cloud-destinations/google-adwords/">Google AdWords</option><option value="/cloud-destinations/google-analytics/">Google Analytics</option><option value="/cloud-destinations/google-bigquery/">Google BigQuery</option><option value="/cloud-destinations/firebase/">Google Firebase</option><option value="/cloud-destinations/google-tag-manager/">Google Tag Manager</option><option value="/cloud-destinations/heap-analytics/">Heap Analytics</option><option value="/cloud-destinations/hotjar/">Hotjar</option><option value="/cloud-destinations/hubspot/">HubSpot</option><option value="/cloud-destinations/intercom/">Intercom</option><option value="/cloud-destinations/keen-io/">Keen</option><option value="/cloud-destinations/kenshoo/">Kenshoo</option><option value="/cloud-destinations/kenshoo-pixel/">Kenshoo Pixel</option><option value="/cloud-destinations/kissmetrics/">KiSSmetrics</option><option value="/cloud-destinations/lucky-orange/">Lucky Orange</option><option value="/cloud-destinations/lytics/">Lytics</option><option value="/cloud-destinations/microsoft-advertising/">Microsoft Advertising</option><option value="/cloud-destinations/mixpanel/">MixPanel</option><option value="/cloud-destinations/netmining/">Netmining</option><option value="/cloud-destinations/optimizely/">Optimizely</option><option value="/cloud-destinations/outbrain/">OutBrain</option><option value="/cloud-destinations/pebble-post/">Pebble Post</option><option value="/cloud-destinations/pinterest/">Pinterest Tag</option><option value="/cloud-destinations/resonate/">Resonate</option><option value="/cloud-destinations/retention-science/">Retention Science</option><option value="/cloud-destinations/rubicon/">Rubicon</option><option value="/cloud-destinations/s3-event-logs/">S3 Event Logs</option><option value="/cloud-destinations/sailthru/">Sailthru</option><option value="/cloud-destinations/slack/">Slack</option><option value="/cloud-destinations/taboola/">Taboola</option><option value="/cloud-destinations/twitter-ads/">Twitter Ads</option><option value="/cloud-destinations/vwo/">VWO</option><option value="/cloud-destinations/webhooks/">Webhooks</option><option value="/cloud-destinations/woopra/">Woopra</option></optgroup><optgroup label="Sources &amp; SDKs"><option value="/sources-and-sdks/">Overview</option><option value="/sources/analytics-js/">Analytics.js</option><option value="/sources/analytics-js-common-fields/">Analytics.js Common Fields</option><option value="/sources/analytics-js-ecommerce-spec/">Analytics.js Ecommerce Spec</option><option value="/sources/android/">Android</option><option value="/sources/http-api/">HTTP API</option><option value="/sources/ios/">iOS</option><option value="/sources/java/">Java</option><option value="/sources/dot-net/">.NET</option><option value="/sources/node-js/">Node.js</option><option value="/sources/php/">PHP</option><option value="/sources/python/">Python</option><option value="/sources/react-native/">React Native</option><option value="/sources/ruby/">Ruby</option><option value="/sources/segment-webhook/">Segment Webhook</option></optgroup></select></div><div>
    <section>
      
    <div class="toc">
      <div class="toc-sticky">
        <h6>On this Page:</h6>
        <ul><li><a href="#what-is-google-analytics-and-how-does-it-work">What is Google Analytics and how does it work?</a></li> <li><a href="#why-send-data-to-google-analytics-using-metarouter">Why send data to Google Analytics using MetaRouter?</a></li> <li><a href="#getting-started-with-google-analytics-and-metarouter">Getting Started with Google Analytics and MetaRouter</a></li> <li><a href="#analyticsjs-standard-e-commerce-events-to-ga-enhanced-e-commerce-events-mapping">Analytics.js Standard E-commerce Events to GA Enhanced E-commerce events mapping</a></li> <li><a href="#complete-ga-configurations">Complete GA configurations</a></li></ul>
      </div>
    </div>
  
      <html><head></head><body><h1 id="google-analytics" style="position:relative;" data-tags="enterprise,destinations"><a href="#" aria-label="google analytics permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Google Analytics</h1>
<p>MetaRouter makes is easy to send your data to Google Analytics. Once you&apos;ve set up your source to start tracking data, we&apos;ll translate and route that data to Google Analytics.</p>
<h2 id="what-is-google-analytics-and-how-does-it-work" style="position:relative;"><a href="#what-is-google-analytics-and-how-does-it-work" aria-label="what is google analytics and how does it work permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>What is Google Analytics and how does it work?</h2>
<p>Google Analytics is a web analytics tool that pools real-time site information for a comprehensive view into user acquisition, audience demographics, and conversion goals. It supports targeted audience and integrates seamlessly with Google AdWords and all DoubleClick products.</p>
<p>Google Analytics requires that you add their snippet to your site. Doing this will give you basic information such as page views, traffic sources, and user location. If you want to get more detailed user information, you&apos;ll need to write custom code in your site. In order to do this, you&apos;ll need to have a developer study the Google Analytics API to learn how to implement methods and format data correctly.</p>
<h2 id="why-send-data-to-google-analytics-using-metarouter" style="position:relative;"><a href="#why-send-data-to-google-analytics-using-metarouter" aria-label="why send data to google analytics using metarouter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Why send data to Google Analytics using MetaRouter?</h2>
<p>Integrating Google Analytics with MetaRouter means that you do not need to install any Google Analytics code into your site or mobile app. It also greatly eases the processes of tracking more detailed information like what users are doing on a page, e-commerce data, and user attributes. Furthermore, many custom events can be configured directly in the MetaRouter UI, making it easy to track the data that you need.</p>
<h2 id="getting-started-with-google-analytics-and-metarouter" style="position:relative;"><a href="#getting-started-with-google-analytics-and-metarouter" aria-label="getting started with google analytics and metarouter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Getting Started with Google Analytics and MetaRouter</h2>
<p><em>Before you get started, note that you will need to remove Google Analytics snippet from your page if you were using it outside of MetaRouter.</em></p>
<h3 id="google-analytics-side" style="position:relative;"><a href="#google-analytics-side" aria-label="google analytics side permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Google Analytics Side</h3>
<p>To get started sending events to Google Analytics, first you&apos;ll need to <a href="https://analytics.google.com">create an account</a>.</p>
<p>The first step is to get your Google Analytics <strong>Tracking ID</strong>. This can be found in the Admin panel and should abide by the following structure: <code class="language-text">UA-XXXXXXXX-X</code>.</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/google-analytics1.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/google-analytics1.png" alt="google-analytics1"></a></p>
<p>Next, you&apos;ll need to enable e-commerce tracking for the view you want to track transactions to.
This can be done inside of Google Analytics by clicking: <strong>Admin &gt; View Settings &gt; Ecommerce Settings switch to ON</strong></p>
<p>Without this step transactions will not show up in your reports.</p>
<p>Most of the events are based on Enhanced Ecommerce, which allows you to derive insights by combining impression data, product data, promotion data, and action data. This is required for product-scoped custom dimensions.
Enable Enhanced Ecommerce inside of Google Analytics by clicking: <strong>Admin &gt; View Settings &gt; Enhanced Ecommerce Settings switch to ON</strong></p>
<h3 id="metarouter-side" style="position:relative;"><a href="#metarouter-side" aria-label="metarouter side permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>MetaRouter Side</h3>
<p>You can configure the Google Analytics account and the event field mappings for our Google Analytics Destination, below is the full payload you will need to send to the Platform via Canary. Keep in mind that you will also need to add the configurations of your other destinations as the Platform will overwrite any new instructions over the old one.</p>
<h3 id="config" style="position:relative;"><a href="#config" aria-label="config permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Config</h3>
<h4 id="api-required---object" style="position:relative;"><a href="#api-required---object" aria-label="api required   object permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a><code class="language-text">api</code> (required) - Object</h4>
<p>The purpose of this section is to allow you to define Google Analytics&apos; specific API information.
The structure of the <code class="language-text">api</code> property is the following:</p>
<ul>
<li>
<p><code class="language-text">&quot;endpoint&quot;: &quot;https://www.googleanalytics.com/collect&quot;</code> String (required)</p>
<ul>
<li>Request&apos;s endpoint</li>
<li><strong>Note:</strong> This is GA&apos;s API endpoint and should not be altered.</li>
</ul>
</li>
<li>
<p><code class="language-text">&quot;method&quot;: &quot;post&quot;</code> String (optional)</p>
<ul>
<li>Request&apos;s method</li>
<li>Available values: <code class="language-text">&quot;get&quot;</code>, <code class="language-text">&quot;post&quot;</code></li>
<li>Default value: <code class="language-text">&quot;get&quot;</code></li>
<li><strong>Note:</strong> GA&apos;s API is expecting a POST request, this should not be altered.</li>
</ul>
</li>
<li>
<p><code class="language-text">&quot;keepAliveAgent&quot;: true</code> Bool / Object (optional)</p>
<ul>
<li>Request&apos;s HttpAgent or HttpsAgent (automatically detected based on endpoint&apos;s structure)</li>
<li>Possible values:</li>
<li><code class="language-text">false</code> &#x21D2; request agent won&apos;t be set</li>
<li><code class="language-text">true</code> &#x21D2; the following default settings will be used as request agent: <code class="language-text">{ maxSockets: 100, maxFreeSockets: 10, timeout: 60000, freeSocketTimeout: 30000 }</code></li>
<li>Object of agent settings &#x21D2; passed settings will be used as request agent</li>
<li><strong>Note:</strong> This should be enabled and set based on your needs and does not affect GA&apos;s capabilities.</li>
</ul>
</li>
<li>
<p><code class="language-text">&quot;includePayloadInURL&quot;: true</code> Bool (optional)</p>
<ul>
<li>If this is set to <code class="language-text">true</code>, the request&apos;s URL will include the encoded payload</li>
<li><strong>Note:</strong> GA&apos;s API requires the payload to be included inside the URL.</li>
</ul>
</li>
</ul>
<h4 id="events-required---object" style="position:relative;"><a href="#events-required---object" aria-label="events required   object permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a><code class="language-text">events</code> (required) - Object</h4>
<p>The purpose of this section is to allow you to define event-specific information based on the event type. Because GA allows you to track <code class="language-text">page()</code> and standard and custom <code class="language-text">track()</code> calls, we divided this into the following sections:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;general&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;track&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;customTrack&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<h4 id="general-section" style="position:relative;"><a href="#general-section" aria-label="general section permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a><code class="language-text">general</code> section</h4>
<p>All GA API calls require specific properties to be sent regardless of the event type that&apos;s being triggered, page or track. This section allows you to define all the properties that are common for all API calls that&apos;ll go to GA.</p>
<p>Here&apos;s how this section should look for GA:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token property">&quot;general&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;TRACKING_ID_HERE&gt;&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.currency&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toUpperCase&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cu&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.page.url&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.page.title&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.page.referrer&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.userAgent&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ua&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.ip&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uip&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;userId&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uid&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div>
<p><strong>Note:</strong> All GA API calls require the following properties to be sent:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">v</code></td>
<td align="left">&quot;1&quot;</td>
<td align="left">protocol version, currently at version 1</td>
</tr>
<tr>
<td align="left"><code class="language-text">tid</code></td>
<td align="left">your Tracking ID</td>
<td align="left">universal google analytics tracking ID, Replace <code class="language-text">&lt;TRACKING_ID_HERE&gt;</code> with your GA Tracking ID</td>
</tr>
<tr>
<td align="left"><code class="language-text">cu</code></td>
<td align="left"><code class="language-text">properties.currency</code> property</td>
<td align="left">currency uppercase, defaults to &quot;USD&quot;</td>
</tr>
<tr>
<td align="left"><code class="language-text">uip</code></td>
<td align="left"><code class="language-text">context.ip</code> property</td>
<td align="left">user&#x2019;s ip</td>
</tr>
<tr>
<td align="left"><code class="language-text">ua</code></td>
<td align="left"><code class="language-text">context.userAgent</code> property</td>
<td align="left">user agent</td>
</tr>
</tbody>
</table>
<p>All other properties included in the <code class="language-text">general</code> section are nice to have.</p>
<h4 id="page-section" style="position:relative;"><a href="#page-section" aria-label="page section permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a><code class="language-text">page</code> section</h4>
<p>All GA API calls require the <code class="language-text">t</code> (hit type) parameter to be sent. For <code class="language-text">page()</code> calls, GA is expecting a hit type <code class="language-text">&quot;pageview&quot;</code>.</p>
<p>Here&apos;s how this section should look for GA:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pageview&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div>
<h4 id="track-section" style="position:relative;"><a href="#track-section" aria-label="track section permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a><code class="language-text">track</code> section</h4>
<p>The purpose of this section is to allow you to define the properties that you want to send over to GA for a specific event.</p>
<p>Here&apos;s how this section should look for GA for the main standard events:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token property">&quot;track&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Products Searched&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;engagement&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;search&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.query&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">,</span><span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product List Viewed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;list&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product List Viewed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.list_id&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;il1nm&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.products&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;il1pi_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Viewed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ordering&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Viewed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Added&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ordering&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Added&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cart Viewed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cart Viewed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;checkout&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.products&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;il1pi_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Order Completed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;transaction&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;order_completed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Order Completed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;purchase&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.order_id&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ti&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toRevenue&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;priorities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;properties.revenue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;properties.total&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.total&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.products&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div>
<p><strong>Note:</strong> All GA track calls require the following properties to be sent:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">varies depending on the triggered event</td>
<td align="left">available values: <code class="language-text">event</code>, <code class="language-text">transaction</code>, <code class="language-text">item</code>, <code class="language-text">social</code>, <code class="language-text">exception</code>, <code class="language-text">timing</code></td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left"><code class="language-text">properties.category</code> property</td>
<td align="left">event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left"><code class="language-text">properties.action</code> property</td>
<td align="left">event action</td>
</tr>
</tbody>
</table>
<h4 id="customtrack-section" style="position:relative;"><a href="#customtrack-section" aria-label="customtrack section permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a><code class="language-text">customTrack</code> section</h4>
<p>The purpose of this section is to allow you to specify if a custom event (event that is not mapped inside the <code class="language-text">track</code> section) should be triggered or not. It also allows you to add a list of specific properties that should exist for all custom events.</p>
<p>Here&apos;s how this section should look for GA:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token property">&quot;customTrack&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;allowAnyProperty&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mappedProperties&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;custom&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.action&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;custom&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Custom Event&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>Notes</strong></p>
<ul>
<li><code class="language-text">allowAnyProperty</code> set to <code class="language-text">true</code> will append the track <code class="language-text">properties</code> to the final payload using the same <code class="language-text">key: value</code> structure and naming</li>
<li><code class="language-text">mappedProperties</code> allows you to define properties that you want to add to all your custom track calls</li>
</ul>
<h4 id="cookies-optional---string" style="position:relative;"><a href="#cookies-optional---string" aria-label="cookies optional   string permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a><code class="language-text">cookies</code> (optional) - String</h4>
<p>Our Analytics.js library includes a sync-injector. The purpose of this sync-injector is to load the minimal 3rd party tag in order for it to drop it&apos;s first party cookies. It will then grab these values and include those into the event&apos;s final structure.</p>
<p>The purpose of this <code class="language-text">cookies</code> section is to flag if first party cookie values should be used and from where to retrieve those values.</p>
<p>There are first party cookies available for Google Analytics, and those can be accessed and automatically added to the API&apos;s payload by setting <code class="language-text">&quot;cookies&quot;: &quot;integrations.googleAnalytics&quot;</code>.</p>
<h2 id="analyticsjs-standard-e-commerce-events-to-ga-enhanced-e-commerce-events-mapping" style="position:relative;"><a href="#analyticsjs-standard-e-commerce-events-to-ga-enhanced-e-commerce-events-mapping" aria-label="analyticsjs standard e commerce events to ga enhanced e commerce events mapping permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Analytics.js Standard E-commerce Events to GA Enhanced E-commerce events mapping</h2>
<p>We put together a list with expected properties for each of the Standard E-commerce Events based on <a href="https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters">Google Analytics&apos; documentation</a>.</p>
<h3 id="products-searched" style="position:relative;"><a href="#products-searched" aria-label="products searched permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Products Searched</h3>
<p>This is a simple GA request, not supported out of the box by Enhanced E-Commerce. In order to send the query to the GA server you have to specify a parameter dl (Document Location) that contains the query parameter that you set in site search tracking setting of the app.
Example query:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">https://www.google-analytics.com/collect?v=1&amp;tid=UA-1234567-1&amp;cid=123e4567-e89b-12d3-a456-426655440000&amp;t=pageview&amp;dl=http://mywebsite.com/searchRedirect=trees</code></pre></div>
<p>where <code class="language-text">searchRedirect</code> is the site search query parameter and <code class="language-text">trees</code> is the search query that we got from Analytics.js Products Searched <code class="language-text">query</code> property.</p>
<h3 id="product-list-viewed" style="position:relative;"><a href="#product-list-viewed" aria-label="product list viewed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product List Viewed</h3>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;view&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;list&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;detail&quot;</td>
<td align="left">Product action</td>
</tr>
<tr>
<td align="left"><code class="language-text">il1nm</code></td>
<td align="left">&quot;category&quot; from your <code class="language-text">track</code> call</td>
<td align="left">List name</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">N</code> 1, because there&apos;s only one product</sub></p>
<h3 id="promotion-events" style="position:relative;"><a href="#promotion-events" aria-label="promotion events permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Promotion events</h3>
<p>Enhanced Ecommerce allows you to go beyond measuring product performance to measure the internal and external marketing efforts that support those products. To take advantage of enhance e-commerce&apos;s promotion reports, you can easily collect data about promotion impressions and promotion clicks with Analytics.js, like so:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Viewed Promotion&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  creative<span class="token operator">:</span> <span class="token operator">&lt;</span>creative<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token comment">// optional</span>
  position<span class="token operator">:</span> <span class="token operator">&lt;</span>position<span class="token operator">&gt;</span> <span class="token comment">// optional</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Clicked Promotion&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  creative<span class="token operator">:</span> <span class="token operator">&lt;</span>creative<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token comment">// optional</span>
  position<span class="token operator">:</span> <span class="token operator">&lt;</span>position<span class="token operator">&gt;</span> <span class="token comment">// optional</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4 id="promotion-viewed" style="position:relative;"><a href="#promotion-viewed" aria-label="promotion viewed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Promotion Viewed</h4>
<p>Besides <a href="#1-mandatory-fields">the mandatory fields</a>, the parameters for this call are as follow:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#2-promotion-fields">Promotion fields</a></sub></p>
<h4 id="promotion-clicked" style="position:relative;"><a href="#promotion-clicked" aria-label="promotion clicked permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Promotion Clicked</h4>
<p>Besides <a href="#1-mandatory-fields">the mandatory fields</a>, the parameters for this call are as follow:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;click&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;interaction&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;click&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#2-promotion-fields">Promotion fields</a></sub></p>
<h3 id="product-events" style="position:relative;"><a href="#product-events" aria-label="product events permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product Events</h3>
<h4 id="product-clicked" style="position:relative;"><a href="#product-clicked" aria-label="product clicked permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product Clicked</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;click&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;ordering&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;click&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> 1, because there&apos;s only one product</sub></p>
<h4 id="product-viewed" style="position:relative;"><a href="#product-viewed" aria-label="product viewed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product Viewed</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;view&quot;</td>
<td align="left">Event action`</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;ordering&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;detail&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> 1, because there&apos;s only one product</sub></p>
<h3 id="cart-events" style="position:relative;"><a href="#cart-events" aria-label="cart events permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Cart events</h3>
<h4 id="product-added" style="position:relative;"><a href="#product-added" aria-label="product added permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product Added</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;view&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;ordering&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;add&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> 1, because there&apos;s only one product</sub></p>
<p><strong>Note:</strong> at this stage we can&apos;t associate a <code class="language-text">cart_id</code> to send to GA.</p>
<h4 id="product-removed" style="position:relative;"><a href="#product-removed" aria-label="product removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product Removed</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;view&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;cart&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;remove&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> 1, because there&apos;s only one product</sub></p>
<p><strong>Note:</strong> at this stage we can&apos;t associate a <code class="language-text">cart_id</code> to send to GA.</p>
<h4 id="cart-viewed" style="position:relative;"><a href="#cart-viewed" aria-label="cart viewed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Cart Viewed</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;view&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;cart&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;checkout&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;list&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> between 1 and products length</sub></p>
<h3 id="checkout-events" style="position:relative;"><a href="#checkout-events" aria-label="checkout events permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Checkout events</h3>
<p>The biggest differentiator between e-commerce and enhanced e-commerce is support for checkout steps. To take advantage of tracking your checkout funnel and measuring metrics like cart abandonment, etc, you&apos;ll first need to configure your checkout funnel in the Google Analytics admin interface, giving easily readable labels to the numeric checkout steps:</p>
<p><a href="https://cdn.metarouter.io/web/img/docs/content/google-analytics-checkout-funnel.png" target="_mr"><img src="https://cdn.metarouter.io/web/img/docs/content/google-analytics-checkout-funnel.png" alt="checkout-funnel"></a></p>
<p>Then you&apos;ll instrument your checkout flow with <strong>Viewed Checkout Step</strong> and <strong>Completed Checkout Step</strong> for each step of the funnel you configured in the Google Analytics admin interface, passing the step number and step-specific options through as a property of those events:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//upon arrival at first checkout step (&apos;Review Cart&apos; per the screenshot example above)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Viewed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//upon completion of first checkout step (&apos;Review Cart&apos;)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Completed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//upon arrival at second checkout step (&apos;Collect Payment Info&apos; per the screenshot example above)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Viewed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//upon completion of this checkout step (&apos;Collect Payment Info&apos;)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Completed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token comment">//if this is the shipping step</span>
  shipping_method<span class="token operator">:</span> <span class="token string">&apos;FedEx&apos;</span><span class="token punctuation">,</span>
  <span class="token comment">//if this is the payment step</span>
  payment_method<span class="token operator">:</span> <span class="token string">&apos;Visa&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//upon arrival at third checkout step (&apos;Confirm Purchase Details&apos; per the screenshot example above)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Viewed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//upon completion of third checkout step (&apos;Confirm Purchase Details&apos;)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Completed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token comment">//you will need to provide either an empty shippingMethod or paymentMethod for the event to send.</span>
  shipping_method<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span> <span class="token comment">// or paymentMethod: &apos;&apos;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//upon arrival at fourth checkout step (&apos;Receipt&apos; per the screenshot example above)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Viewed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//upon completion of fourth checkout step (&apos;Receipt&apos;)</span>
analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Completed Checkout Step&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  step<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token comment">//you will need to provide either an empty shippingMethod or paymentMethod for the event to send.</span>
  shipping_method<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span> <span class="token comment">// or paymentMethod: &apos;&apos;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p><strong>Note:</strong> <code class="language-text">shipping_method</code> and <code class="language-text">payment_method</code> are semantic properties so if you want to send that information, please do so in this exact spelling!</p>
<p>You can have as many or as few steps in the checkout funnel as you&apos;d like. The four steps above merely serve as an example. Note that you&apos;ll still need to track the <strong>Order Completed</strong> event per our standard e-commerce tracking API after you&apos;ve tracked the checkout steps.</p>
<h4 id="checkout-started" style="position:relative;"><a href="#checkout-started" aria-label="checkout started permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Checkout Started</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;event&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;start_checkout&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;cart&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;checkout&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;list&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> between 1 and products length</sub></p>
<h4 id="checkout-step-viewed" style="position:relative;"><a href="#checkout-step-viewed" aria-label="checkout step viewed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Checkout Step Viewed</h4>
<p>Before starting down this path, Enhanced E-Commerce needs to be enabled. Furthermore, the checkout steps need to be defined in the admin section of the app.</p>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;checkout&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#3-checkout-fields">Checkout fields</a></sub></p>
<h4 id="checkout-step-completed" style="position:relative;"><a href="#checkout-step-completed" aria-label="checkout step completed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Checkout Step Completed</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;checkout_option&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#3-checkout-fields">Checkout fields</a></sub></p>
<h4 id="payment-info-entered" style="position:relative;"><a href="#payment-info-entered" aria-label="payment info entered permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Payment Info Entered</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;checkout_option&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#3-checkout-fields">Checkout fields</a></sub></p>
<h3 id="ordering-events" style="position:relative;"><a href="#ordering-events" aria-label="ordering events permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Ordering events</h3>
<h4 id="order-updated" style="position:relative;"><a href="#order-updated" aria-label="order updated permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Order Updated</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;transaction&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;update&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;cart&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;checkout&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#4-transaction-fields">Transaction fields</a> and <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> between 1 and products length</sub></p>
<h4 id="order-completed" style="position:relative;"><a href="#order-completed" aria-label="order completed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Order Completed</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;transaction&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;order_completed&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;cart&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;purchase&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#4-transaction-fields">Transaction fields</a> and <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> between 1 and products length</sub></p>
<p>If you want to send coupon data to your <strong>Order Completed</strong> event when using Enhanced E-commerce, you can simply add the <code class="language-text">coupon</code> property on the order level or the product level or both.</p>
<p>Google Analytics documentation emphasizes on the fact that we should send a <code class="language-text">total</code> field comprise of the final cost to the client, including tax, shipping etc. For better flexibility and total control over tracking, we let you decide how to calculate how coupons and discounts are applied.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  userId<span class="token operator">:</span> <span class="token string">&apos;019mr8mf4r&apos;</span><span class="token punctuation">,</span>
  event<span class="token operator">:</span> <span class="token string">&apos;Order Completed&apos;</span><span class="token punctuation">,</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    orderId<span class="token operator">:</span> <span class="token string">&apos;50314b8e9bcf000000000000&apos;</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">27.5</span><span class="token punctuation">,</span>
    shipping<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    tax<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    discount<span class="token operator">:</span> <span class="token number">2.5</span><span class="token punctuation">,</span>
    coupon<span class="token operator">:</span> <span class="token string">&apos;hasbros&apos;</span><span class="token punctuation">,</span>
    currency<span class="token operator">:</span> <span class="token string">&apos;USD&apos;</span><span class="token punctuation">,</span>
    repeat<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    products<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&apos;507f1f77bcf86cd799439011&apos;</span><span class="token punctuation">,</span>
        sku<span class="token operator">:</span> <span class="token string">&apos;45790-32&apos;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&apos;Monopoly: 3rd Edition&apos;</span><span class="token punctuation">,</span>
        price<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
        quantity<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        category<span class="token operator">:</span> <span class="token string">&apos;Games&apos;</span><span class="token punctuation">,</span>
        coupon<span class="token operator">:</span> <span class="token string">&apos;15%OFF&apos;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&apos;505bd76785ebb509fc183733&apos;</span><span class="token punctuation">,</span>
        sku<span class="token operator">:</span> <span class="token string">&apos;46493-32&apos;</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&apos;Uno Card Game&apos;</span><span class="token punctuation">,</span>
        price<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        quantity<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        category<span class="token operator">:</span> <span class="token string">&apos;Games&apos;</span><span class="token punctuation">,</span>
        coupon<span class="token operator">:</span> <span class="token string">&apos;20%OFF&apos;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h4 id="order-refunded" style="position:relative;"><a href="#order-refunded" aria-label="order refunded permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Order Refunded</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;transaction&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">ea</code></td>
<td align="left">&quot;refund&quot;</td>
<td align="left">Event action</td>
</tr>
<tr>
<td align="left"><code class="language-text">ec</code></td>
<td align="left">&quot;cart&quot;</td>
<td align="left">Event category</td>
</tr>
<tr>
<td align="left"><code class="language-text">pa</code></td>
<td align="left">&quot;refund&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#4-transaction-fields">Transaction fields</a> for <code class="language-text">negative</code> transactions and <a href="#7-product-list-fields">Product list fields</a> with <code class="language-text">&lt;type&gt;</code> &quot;pr&quot; and <code class="language-text">&lt;ProductIndex&gt;</code> between 1 and products length</sub></p>
<p>For full refunds, fire this event whenever an order/transaction gets refunded:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Order Refunded&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  order_id<span class="token operator">:</span> <span class="token string">&apos;50314b8e9bcf000000000000&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>For partial refunds, you must include the productId and quantity for the items you want refunded:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">analytics<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&apos;Order Refunded&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  order_id<span class="token operator">:</span> <span class="token string">&apos;50314b8e9bcf000000000000&apos;</span><span class="token punctuation">,</span>
  products<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      product_id<span class="token operator">:</span> <span class="token string">&apos;123abc&apos;</span><span class="token punctuation">,</span>
      quantity<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3 id="social-events" style="position:relative;"><a href="#social-events" aria-label="social events permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Social events</h3>
<h4 id="product-shared" style="position:relative;"><a href="#product-shared" aria-label="product shared permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product Shared</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;social&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">sa</code></td>
<td align="left">&quot;share&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#5-social-details-fields">Social details fields</a></sub></p>
<h4 id="cart-shared" style="position:relative;"><a href="#cart-shared" aria-label="cart shared permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Cart Shared</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;social&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">sa</code></td>
<td align="left">&quot;share&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#5-social-details-fields">Social details fields</a></sub></p>
<h4 id="product-reviewed" style="position:relative;"><a href="#product-reviewed" aria-label="product reviewed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Product Reviewed</h4>
<p>This query takes advantage of GA&apos;s Enhanced E-Commerce but there is no native support for this type of action. It is recommended that this action be marked as a <strong>social</strong> hit. Besides <a href="#1-mandatory-fields">the mandatory fields</a>, these other parameters will be used:</p>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Parameter</th>
<th align="left" style="width: 30%;">Value</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left">&quot;social&quot;</td>
<td align="left">Hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">sa</code></td>
<td align="left">&quot;share&quot;</td>
<td align="left">Product action</td>
</tr>
</tbody>
</table>
<p><sub>See: <a href="#5-social-details-fields">Fields hard-coded with sn</a></sub></p>
<h3 id="fields-mapping" style="position:relative;"><a href="#fields-mapping" aria-label="fields mapping permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Fields mapping</h3>
<h4 id="1-mandatory-fields" style="position:relative;"><a href="#1-mandatory-fields" aria-label="1 mandatory fields permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>1. Mandatory fields</h4>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Field</th>
<th align="left" style="width: 30%;">Mapping</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">v</code></td>
<td align="left">&quot;1&quot;</td>
<td align="left">protocol version, currently at version 1</td>
</tr>
<tr>
<td align="left"><code class="language-text">tid</code></td>
<td align="left"><code class="language-text">trackingId</code> from your integrations.yaml</td>
<td align="left">universal google analytics tracking ID</td>
</tr>
<tr>
<td align="left"><code class="language-text">t</code></td>
<td align="left"><code class="language-text">pageview</code>, <code class="language-text">event</code>, <code class="language-text">social</code>, <code class="language-text">transaction</code>, <code class="language-text">item</code>, <code class="language-text">exception</code>, <code class="language-text">appview</code> or <code class="language-text">timing</code>.</td>
<td align="left">hit type</td>
</tr>
<tr>
<td align="left"><code class="language-text">cu</code></td>
<td align="left"><code class="language-text">currency</code> property from <code class="language-text">track()</code> calls. Default &quot;USD&quot;</td>
<td align="left">currency</td>
</tr>
<tr>
<td align="left"><code class="language-text">uip</code></td>
<td align="left"><code class="language-text">context.ip</code> property from your <code class="language-text">track()</code> calls</td>
<td align="left">user&apos;s ip</td>
</tr>
<tr>
<td align="left"><code class="language-text">ua</code></td>
<td align="left"><code class="language-text">context.userAgent</code> property from your <code class="language-text">track()</code> calls</td>
<td align="left">user agent</td>
</tr>
</tbody>
</table>
<h4 id="2-promotion-fields" style="position:relative;"><a href="#2-promotion-fields" aria-label="2 promotion fields permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>2. Promotion fields</h4>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Field</th>
<th align="left" style="width: 30%;">Analytics.js property</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">promo1id</code></td>
<td align="left"><code class="language-text">promotion_id</code></td>
<td align="left">promotion id</td>
</tr>
<tr>
<td align="left"><code class="language-text">promo1cr</code></td>
<td align="left"><code class="language-text">creatives</code></td>
<td align="left">promotion creative</td>
</tr>
<tr>
<td align="left"><code class="language-text">promo1nm</code></td>
<td align="left"><code class="language-text">name</code></td>
<td align="left">promotion name</td>
</tr>
<tr>
<td align="left"><code class="language-text">promo1ps</code></td>
<td align="left"><code class="language-text">position</code></td>
<td align="left">promotion position</td>
</tr>
</tbody>
</table>
<h4 id="3-checkout-fields" style="position:relative;"><a href="#3-checkout-fields" aria-label="3 checkout fields permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>3. Checkout fields</h4>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Field</th>
<th align="left" style="width: 30%;">Analytics.js property</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">cos</code></td>
<td align="left"><code class="language-text">step</code></td>
<td align="left">checkout step</td>
</tr>
<tr>
<td align="left"><code class="language-text">col</code></td>
<td align="left"><code class="language-text">checkout_id</code></td>
<td align="left">checkout id</td>
</tr>
</tbody>
</table>
<h4 id="4-transaction-fields" style="position:relative;"><a href="#4-transaction-fields" aria-label="4 transaction fields permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>4. Transaction fields</h4>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Field</th>
<th align="left" style="width: 30%;">Analytics.js property</th>
<th align="left" style="width: 30%;">Explanation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">ti</code></td>
<td align="left"><code class="language-text">order_id</code></td>
<td align="left">transaction id</td>
</tr>
<tr>
<td align="left"><code class="language-text">ta</code></td>
<td align="left"><code class="language-text">affiliation</code></td>
<td align="left">transaction affiliation</td>
</tr>
<tr>
<td align="left"><code class="language-text">tr</code></td>
<td align="left"><code class="language-text">revenue</code></td>
<td align="left">transaction revenue - although we have a revenue field in Analytics.js, that field does not include shipping and applied coupons, taxes, promotions etc. GA documentation emphasizes that this field should be comprised of the final cost to the client, including tax, shipping etc.</td>
</tr>
<tr>
<td align="left"><code class="language-text">ts</code></td>
<td align="left"><code class="language-text">shipping</code></td>
<td align="left">transaction shipping cost</td>
</tr>
<tr>
<td align="left"><code class="language-text">tt</code></td>
<td align="left"><code class="language-text">tax</code></td>
<td align="left">transaction tax</td>
</tr>
<tr>
<td align="left"><code class="language-text">tcc</code></td>
<td align="left"><code class="language-text">coupon</code></td>
<td align="left">transaction coupon code</td>
</tr>
</tbody>
</table>
<p>For <code class="language-text">negative</code> transactions, we map negative values of <code class="language-text">revenue</code>, <code class="language-text">shipping</code>, <code class="language-text">tax</code> and <code class="language-text">coupon</code></p>
<h4 id="5-social-details-fields" style="position:relative;"><a href="#5-social-details-fields" aria-label="5 social details fields permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>5. Social details fields</h4>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA Field</th>
<th align="left" style="width: 30%;">Analytics.js property</th>
<th align="left" style="width: 30%;">Observation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">sn</code></td>
<td align="left"><code class="language-text">share_via</code></td>
<td align="left">share network - hard-coded as <code class="language-text">product-review</code> for <a href="#product-reviewed">Product Reviewed</a></td>
</tr>
<tr>
<td align="left"><code class="language-text">st</code></td>
<td align="left"><code class="language-text">cart-&lt;cart_id&gt;:&lt;product_id1&gt;:&lt;product_id2&gt;:...:&lt;product_idn&gt;</code></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>For <code class="language-text">Review events</code> we hard-code <code class="language-text">sn</code> as <code class="language-text">product-review</code></p>
<h4 id="6-search-fields" style="position:relative;"><a href="#6-search-fields" aria-label="6 search fields permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>6. Search fields</h4>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA field</th>
<th align="left" style="width: 30%;">Analytics.js property</th>
<th align="left" style="width: 30%;">Observation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">dl</code></td>
<td align="left"><code class="language-text">&lt;baseURL&gt;&lt;searchParam&gt;=&lt;query&gt;</code></td>
<td align="left">use <code class="language-text">searchParam</code> and <code class="language-text">baseUrl</code> from integrations.yaml to set the query string</td>
</tr>
</tbody>
</table>
<h4 id="7-product-list-fields" style="position:relative;"><a href="#7-product-list-fields" aria-label="7 product list fields permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>7. Product list fields</h4>
<table>
<thead>
<tr>
<th align="left" style="width: 20%;">GA field</th>
<th align="left" style="width: 30%;">Analytics.js property</th>
<th align="left" style="width: 30%;">Observation</th>
</tr>
</thead>
<tbody>

<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;id</code></td>
<td align="left"><code class="language-text">sku</code> or <code class="language-text">product_id</code></td>
<td align="left">product ID</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;nm</code></td>
<td align="left"><code class="language-text">name</code></td>
<td align="left">product name</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;ca</code></td>
<td align="left"><code class="language-text">category</code></td>
<td align="left">product category</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;pr</code></td>
<td align="left"><code class="language-text">price</code></td>
<td align="left">product price</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;br</code></td>
<td align="left"><code class="language-text">brand</code></td>
<td align="left">product brand</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;va</code></td>
<td align="left"><code class="language-text">variant</code></td>
<td align="left">product variant</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;ps</code></td>
<td align="left"><code class="language-text">position</code></td>
<td align="left">product position</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;qty</code></td>
<td align="left"><code class="language-text">quantity</code></td>
<td align="left">product quantity</td>
</tr>
<tr>
<td align="left"><code class="language-text">&lt;type&gt;&lt;ProductIndex&gt;cc</code></td>
<td align="left"><code class="language-text">coupon</code></td>
<td align="left">product coupon</td>
</tr>
</tbody>
</table>
<p>Where <code class="language-text">&lt;type&gt;</code> is either <code class="language-text">&quot;pr&quot;</code> - for simple products, or <code class="language-text">il1pi</code> - &quot;il&quot; prefix stands for &quot;Impression List&quot;.</p>
<p><strong>Note:</strong> <code class="language-text">&lt;ProductIndex&gt;</code> stands for a product index number. It&apos;s an integer from 1 to 200 (limited to 200) and is not an array index. <code class="language-text">il1pi1id</code>, <code class="language-text">il1pi2id</code>, <code class="language-text">il1pi3id</code>...<code class="language-text">il1pi200id</code> are separate parameters that are sent individually.</p>
<p>In addition to the hard limit of 200 products do not forget about the 8kb/request hard limit that the GA collect API has.</p>
<h2 id="complete-ga-configurations" style="position:relative;"><a href="#complete-ga-configurations" aria-label="complete ga configurations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Complete GA configurations</h2>
<p>Here&apos;s a full example of the configuration file for Google Analytics with the following functionalities:</p>
<ul>
<li>sending page calls</li>
<li>mapping standard events according to GA&apos;s specifications</li>
<li>allows any triggered event that is not mapped to be sent over to GA with the exact <code class="language-text">properties</code> structure with what the track event is being triggered; mandatory properties are appended</li>
</ul>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;api&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;endpoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://www.google-analytics.com/collect&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keepAliveAgent&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;includePayloadInURL&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cookies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integrations.googleAnalytics&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;general&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UA-XXXXXXXXX-Y&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.currency&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toUpperCase&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cu&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.page.url&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.page.title&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.page.referrer&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.userAgent&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ua&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;context.ip&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uip&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;userId&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uid&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pageview&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;track&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Products Searched&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;engagement&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;search&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.query&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product List Viewed&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;list&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product List Viewed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.list_id&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;il1nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.products&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;il1pi_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Viewed&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ordering&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Viewed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Added&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ordering&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product Added&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cart Viewed&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cart Viewed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;checkout&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.products&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;il1pi_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Order Completed&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;transaction&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;order_completed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Order Completed&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;purchase&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.order_id&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ti&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toRevenue&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;priorities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;properties.revenue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;properties.total&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tr&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.total&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toObject&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">{</span>
                    <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.products&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toArrayOfObjects&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;unfold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr_INDEX__KEY_&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sku&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nm&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;br&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ca&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;variant&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;va&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;position&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ps&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toFloat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                          <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quantity&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;toInt&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qt&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;customTrack&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;allowAnyProperty&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;mappedProperties&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.category&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;custom&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ec&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;properties.action&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;custom&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ea&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;transformations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;defaultValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Custom Event&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">&quot;output&quot;</span><span class="token operator">:</span> <span class="token string">&quot;el&quot;</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></body></html>
    </section>
    <div class="section-border"></div>
  </div><footer><p>© <!-- -->2020<!-- --> MetaRouter</p><p id="disclaimer"><strong>Disclaimer:</strong> MetaRouter Cloud leverages code from several of<!-- --> <a href="https://segment.com" target="_blank" rel="noopener noreferrer">Segment&#x27;s</a> <!-- -->fabulous library of open-source tools, including their<!-- --> <a href="https://segment.com/docs/sources/" target="_blank" rel="noopener noreferrer">source SDKs</a>,<!-- --> <a href="https://segment.com/docs/destinations" target="_blank" rel="noopener noreferrer">destinations</a>, and core<!-- --> <a href="https://segment.com/docs/sources/website/analytics.js/" target="_blank" rel="noopener noreferrer">Analytics.js</a> <!-- -->library. As some of the core configurations outlined in our docs are largely identical to Segment&#x27;s, we often re-purpose, and in some cases copy, directly from Segment&#x27;s docs. In the cases where we have forked Segment&#x27;s tools, we acknowledge and attribute all credit to Segment for their creation and subsequent documentation.</p></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/enterprise-destinations/google-analytics/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c4f78aaf00ef3fb7b63b.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-ab12cfe2f77aa8ed5f67.js"],"component---src-pages-index-js":["/component---src-pages-index-js-13d829700e7681fab1e5.js"],"component---src-templates-page-js":["/component---src-templates-page-js-b1464b131b7fa71a7728.js"],"component---src-templates-redirect-js":["/component---src-templates-redirect-js-eea53db7eb16be4a6a50.js"],"component---src-pages-404-js":["/component---src-pages-404-js-887e07450068e2bae70a.js"]};/*]]>*/</script><script src="/component---src-templates-page-js-b1464b131b7fa71a7728.js" async=""></script><script src="/acbca99d8c09ea2a864703efbdddc04d4778e7ab-3a3850d2ded75e2e5627.js" async=""></script><script src="/364a338929ac59fb513f8350dc28f8d5566ad6ae-a2ee82ddbda5a8f0a6fc.js" async=""></script><script src="/29107295-d2b2dd71af714b3e39b3.js" async=""></script><script src="/styles-ccfac98b72d746365bce.js" async=""></script><script src="/app-c4f78aaf00ef3fb7b63b.js" async=""></script><script src="/framework-ae968edc9080e69820cd.js" async=""></script><script src="/webpack-runtime-50648a32785dd8021b46.js" async=""></script></body></html>