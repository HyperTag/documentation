{"componentChunkName":"component---src-templates-page-js","path":"/sources/analytics-js/","result":{"data":{"markdownRemark":{"frontmatter":{"path":"/sources/analytics-js/","title":""}}},"pageContext":{"html":"\n    <section>\n      \n    <div class=\"toc\">\n      <div class=\"toc-sticky\">\n        <h6>On this Page:</h6>\n        <ul><li><a href=\"#create-a-client-side-source-in-the-metarouter-ui\">Create a Client-Side Source in the MetaRouter UI</a></li> <li><a href=\"#copy--paste-the-snippet\">Copy & Paste the Snippet</a></li> <li><a href=\"#methods\">Methods</a></li> <li><a href=\"#debugging\">Debugging</a></li> <li><a href=\"#faq\">FAQ</a></li></ul>\n      </div>\n    </div>\n  \n      <html><head></head><body><h1 id=\"analyticsjs\" style=\"position:relative;\" data-tags=\"sources\"><a href=\"#\" aria-label=\"analyticsjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Analytics.js</h1>\n<p>Using the open source JavaScript Analytics.js library, you can start sending customer data directly from your website or web application to MetaRouter. Accessing this user data will yield rich, actionable insights, and it only takes a few minutes to get set up.</p>\n<h2 id=\"create-a-client-side-source-in-the-metarouter-ui\" style=\"position:relative;\"><a href=\"#create-a-client-side-source-in-the-metarouter-ui\" aria-label=\"create a client side source in the metarouter ui permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Create a Client-Side Source in the MetaRouter UI</h2>\n<p>After logging in with your MetaRouter credentials, add a new <strong>Source &gt; Client-Side</strong>. Give your source a friendly name and copy that <strong>Source ID</strong> for the next step.</p>\n<h2 id=\"copy--paste-the-snippet\" style=\"position:relative;\"><a href=\"#copy--paste-the-snippet\" aria-label=\"copy  paste the snippet permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Copy &amp; Paste the Snippet</h2>\n<p>Next, you&#x2019;ll need to copy and paste the snippet below into the  of your website.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">&quot;text/javascript&quot;</span><span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">!</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> analytics<span class=\"token operator\">=</span>window<span class=\"token punctuation\">.</span>analytics<span class=\"token operator\">=</span>window<span class=\"token punctuation\">.</span>analytics<span class=\"token operator\">||</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>analytics<span class=\"token punctuation\">.</span>initialize<span class=\"token punctuation\">)</span><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>analytics<span class=\"token punctuation\">.</span>invoked<span class=\"token punctuation\">)</span>window<span class=\"token punctuation\">.</span>console<span class=\"token operator\">&amp;&amp;</span>console<span class=\"token punctuation\">.</span>error<span class=\"token operator\">&amp;&amp;</span>console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">&quot;MetaRouter snippet included twice.&quot;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>analytics<span class=\"token punctuation\">.</span>invoked<span class=\"token operator\">=</span><span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>analytics<span class=\"token punctuation\">.</span>methods<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">&quot;trackSubmit&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;trackClick&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;trackLink&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;trackForm&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;pageview&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;identify&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;reset&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;group&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;track&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;ready&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;alias&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;page&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;once&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;off&quot;</span><span class=\"token punctuation\">,</span><span class=\"token string\">&quot;on&quot;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>analytics<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">factory</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">t</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> e<span class=\"token operator\">=</span><span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">unshift</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>analytics<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">return</span> analytics<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> t<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>t<span class=\"token operator\">&lt;</span>analytics<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>t<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> e<span class=\"token operator\">=</span>analytics<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>analytics<span class=\"token punctuation\">[</span>e<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>analytics<span class=\"token punctuation\">.</span><span class=\"token function\">factory</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>analytics<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">load</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">t</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> e<span class=\"token operator\">=</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">&quot;script&quot;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>e<span class=\"token punctuation\">.</span>type<span class=\"token operator\">=</span><span class=\"token string\">&quot;text/javascript&quot;</span><span class=\"token punctuation\">;</span>e<span class=\"token punctuation\">.</span>async<span class=\"token operator\">=</span><span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>e<span class=\"token punctuation\">.</span>src<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">&quot;https:&quot;</span><span class=\"token operator\">===</span>document<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>protocol<span class=\"token operator\">?</span><span class=\"token string\">&quot;https://&quot;</span><span class=\"token operator\">:</span><span class=\"token string\">&quot;http://&quot;</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">&quot;cdn.metarouter.io/a/v1/&quot;</span><span class=\"token operator\">+</span>t<span class=\"token operator\">+</span><span class=\"token string\">&quot;.js&quot;</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">var</span> n<span class=\"token operator\">=</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">&quot;script&quot;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>n<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">,</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>analytics<span class=\"token punctuation\">.</span><span class=\"token constant\">SNIPPET_VERSION</span><span class=\"token operator\">=</span><span class=\"token string\">&quot;3.1.0&quot;</span><span class=\"token punctuation\">;</span>\n  analytics<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">&quot;YOUR_SOURCE_ID&quot;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  analytics<span class=\"token punctuation\">.</span><span class=\"token function\">page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span></code></pre></div>\n<p>When you paste the snippet, replace <code class=\"language-text\">&quot;YOUR_SOURCE_ID&quot;</code> with the <strong>Source ID</strong> for this particular project.</p>\n<p>As soon as this snippet is running on your site, you can begin experimenting with destinations. Click back to MetaRouter Clickstream UI and start adding destinations to the source you just configured.</p>\n<p>To test your newly configured source, trigger some events on your website and look for them in the Monitoring Overview &amp; Logs.</p>\n<p><strong>Note:</strong> You will want to remove any other native 3rd party destination code that you may already have on your website. Skipping this step could cause issues if you turn on those same destinations (e.g. Mixpanel, Google Analytics, Amplitude, etc.) through MetaRouter.*</p>\n<p>If you are just looking for basic clickstream functionality, you&#x2019;re all done setting up! We recommend enabling a simple integration, like Google Analytics, to start analyzing your website&#x2019;s data.</p>\n<p>If you&#x2019;d like to use any tool that deals with the identity of your users (e.g. Mixpanel), keep reading to learn how to use the <code class=\"language-text\">identify</code> call.</p>\n<h2 id=\"methods\" style=\"position:relative;\"><a href=\"#methods\" aria-label=\"methods permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Methods</h2>\n<h3 id=\"identify\" style=\"position:relative;\"><a href=\"#identify\" aria-label=\"identify permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Identify</h3>\n<p>The <code class=\"language-text\">identify</code> method helps you associate your users and their actions to a unique and recognizable <code class=\"language-text\">userID</code> and <code class=\"language-text\">traits</code>. We recommend using a backend template to insert an <code class=\"language-text\">identify</code> call directly into the footer of every page of your site where the user is logged in. That way, your users will always be identified, no matter what page they first land on.</p>\n<p><code class=\"language-text\">identify</code> follows this basic definition:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">analytics<span class=\"token punctuation\">.</span><span class=\"token function\">identify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>userId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>traits<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>callback<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The <code class=\"language-text\">identify</code> call contains the following fields:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" style=\"width: 20%;\">Field</th>\n<th align=\"left\" style=\"width: 20%;\">Status</th>\n<th align=\"left\" style=\"width: 20%;\">Type</th>\n<th align=\"left\" style=\"width: 40%;\">Notes</th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code class=\"language-text\">userId</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">String</td>\n<td align=\"left\">The database ID for the user</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">traits</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Object</td>\n<td align=\"left\">A group of traits you know about the user, including email and name</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">options</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Object</td>\n<td align=\"left\">A group of options tied to the call. Note that, if you elect to not pass a <code class=\"language-text\">traits</code> object, you must pass an empty object with <code class=\"language-text\">{}</code> before options.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">callback</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">A function executed after a short timeout that gives the browser time to make outbound requests</td>\n</tr>\n</tbody>\n</table>\n<p>For example, a simple <code class=\"language-text\">identify</code> looks something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">analytics<span class=\"token punctuation\">.</span><span class=\"token function\">identify</span><span class=\"token punctuation\">(</span><span class=\"token string\">&apos;123456&apos;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">&apos;Dagny&apos;</span><span class=\"token punctuation\">,</span>\n  email<span class=\"token operator\">:</span> <span class=\"token string\">&apos;dagny@metarouter.io&apos;</span>\n  role<span class=\"token operator\">:</span> <span class=\"token string\">&apos;buyer&apos;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You&#x2019;re now set up to use any basic CRM. Go ahead and switch on a CRM, like Intercom, to start seeing your user data through MetaRouter.</p>\n<p>While <code class=\"language-text\">identify</code> is an extremely useful call for a lot of integrations, many other analytics tools go beyond just identifying users; they record the actions each user performs too. See below for how to get to an even more holistic event tracking analytics setup.</p>\n<h3 id=\"track\" style=\"position:relative;\"><a href=\"#track\" aria-label=\"track permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Track</h3>\n<p>To get to a more complete event tracking analytics setup, you can add a <code class=\"language-text\">track</code> call to your website. This will tell MetaRouter which actions you are performing on your site. With <code class=\"language-text\">track</code>, each user action triggers an &#x201C;event,&#x201D; which can also have associated properties.</p>\n<p>Setting up <code class=\"language-text\">track</code> is very similar to the process you just went through to set up an <code class=\"language-text\">identify</code>. Here&#x2019;s the basic <code class=\"language-text\">track</code> definition:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">analytics<span class=\"token punctuation\">.</span><span class=\"token function\">track</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>properties<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>callback<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The fields mentioned above are defined here:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" style=\"width: 20%;\">Field</th>\n<th align=\"left\" style=\"width: 20%;\">Status</th>\n<th align=\"left\" style=\"width: 20%;\">Type</th>\n<th align=\"left\" style=\"width: 40%;\">Notes</th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code class=\"language-text\">event</code></td>\n<td align=\"left\">Mandatory</td>\n<td align=\"left\">String</td>\n<td align=\"left\">Name of the event you&apos;re tracking</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">properties</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Object</td>\n<td align=\"left\">A library of properties to be associated with the event. Check out our <a href=\"/analytics-js/\">API Call doc</a> to learn more about properties you can pass with your track calls</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">options</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Object</td>\n<td align=\"left\">A library of options, such as enabiling or disabiling specfiic destinations for a given call. Note that, if you elect to not pass a <code class=\"language-text\">properties</code> object, you must pass an empty object with <code class=\"language-text\">{}</code> before options.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">callback</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">A function that is executed after a short timeout. This gives the browser time to make outbound requests.</td>\n</tr>\n</tbody>\n</table>\n<p>And here&#x2019;s an example of what a simple <code class=\"language-text\">track</code> might look like:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">analytics<span class=\"token punctuation\">.</span><span class=\"token function\">track</span><span class=\"token punctuation\">(</span><span class=\"token string\">&apos;Viewed Product&apos;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  product<span class=\"token operator\">:</span> <span class=\"token string\">&apos;Cat Feather Toy&apos;</span><span class=\"token punctuation\">,</span>\n  model_number<span class=\"token operator\">:</span> <span class=\"token string\">&apos;B001BOVEU4&apos;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>Note:</strong> In order to use a <code class=\"language-text\">track</code> call, you must specify a name for the event you want to track whereas properties, options, and callback are all optional fields.*</p>\n<p>A lot of analytics tools support custom event mapping so, with <code class=\"language-text\">track</code> implemented, you&#x2019;ll be able to attribute events to your users and start targeting them in a more informed and relevant way.</p>\n<p>Congratulations, you&#x2019;ve now successfully installed website tracking with MetaRouter!</p>\n<p>Now the fun begins: head back to our app, turn on some destinations, and hit your business with insightful user data.</p>\n<h3 id=\"page\" style=\"position:relative;\"><a href=\"#page\" aria-label=\"page permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Page</h3>\n<p>The <code class=\"language-text\">page</code> method allows you to record page views on your website. It also allows you to pass addtional information about the pages people are viewing. Note that a <code class=\"language-text\">page</code> call is included by default in our Analytics.js snippet. Here&apos;s the basic <code class=\"language-text\">page</code> definition:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">analytics<span class=\"token punctuation\">.</span><span class=\"token function\">page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>category<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>properties<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>callback<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The fields outlined above are explained here:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" style=\"width: 20%;\">Field</th>\n<th align=\"left\" style=\"width: 20%;\">Status</th>\n<th align=\"left\" style=\"width: 20%;\">Type</th>\n<th align=\"left\" style=\"width: 40%;\">Notes</th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code class=\"language-text\">category</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">String</td>\n<td align=\"left\">Category of the page.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">name</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">String</td>\n<td align=\"left\">Name of the page.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">properties</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">String</td>\n<td align=\"left\">A library of properties that you want to pass with your <code class=\"language-text\">page</code> call. Note that url, title, referrer, and path are automatically collected with <code class=\"language-text\">page</code> calls, so no need to include them here!</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">options</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Object</td>\n<td align=\"left\">A library of options that you might want to pass with your call. Note that, if you elect to not pass a <code class=\"language-text\">properties</code> object, you must pass an empty object with <code class=\"language-text\">{}</code> before options.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">callback</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">A function that is executed after a short timeout. This gives the browser time to make outbound requests.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"group\" style=\"position:relative;\"><a href=\"#group\" aria-label=\"group permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Group</h3>\n<p>The <code class=\"language-text\">group</code> method associates an identified user with a company, organization, project, etc. Here&apos;s the basic <code class=\"language-text\">group</code> definition:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">analytics<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span>groupId<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>traits<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>callback<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The fields outlined above are explained here:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" style=\"width: 20%;\">Field</th>\n<th align=\"left\" style=\"width: 20%;\">Status</th>\n<th align=\"left\" style=\"width: 20%;\">Type</th>\n<th align=\"left\" style=\"width: 40%;\">Notes</th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code class=\"language-text\">groupId</code></td>\n<td align=\"left\">Mandatory</td>\n<td align=\"left\">String</td>\n<td align=\"left\">The Group ID associated with the user</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">traits</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">String</td>\n<td align=\"left\">A library of trais that you&apos;d like to associate with the group. Can include address, website, employees, etc.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">options</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Object</td>\n<td align=\"left\">A library of options that you might want to pass with your call. Note that, if you elect to not pass a <code class=\"language-text\">traits</code> object, you must pass an empty object with <code class=\"language-text\">{}</code> before options.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">callback</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">A function that is executed after a short timeout. This gives the browser time to make outbound requests.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"alias\" style=\"position:relative;\"><a href=\"#alias\" aria-label=\"alias permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Alias</h3>\n<p>The <code class=\"language-text\">alias</code> method combines two unassociated User IDs. Here&apos;s the basic <code class=\"language-text\">alias</code> definition:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">analytics<span class=\"token punctuation\">.</span><span class=\"token function\">alias</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>previousId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>callback<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The fields outlined above are explained here:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" style=\"width: 20%;\">Field</th>\n<th align=\"left\" style=\"width: 20%;\">Status</th>\n<th align=\"left\" style=\"width: 20%;\">Type</th>\n<th align=\"left\" style=\"width: 40%;\">Notes</th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code class=\"language-text\">userId</code></td>\n<td align=\"left\">Mandatory</td>\n<td align=\"left\">String</td>\n<td align=\"left\">The new user ID that you want to associate with the user</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">previousId</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">String</td>\n<td align=\"left\">The previous ID that was assigned to the user.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">options</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Object</td>\n<td align=\"left\">A library of options that you might want to pass with your call.</td>\n</tr>\n<tr>\n<td align=\"left\"><code class=\"language-text\">callback</code></td>\n<td align=\"left\">Optional</td>\n<td align=\"left\">Function</td>\n<td align=\"left\">A function that is executed after a short timeout. This gives the browser time to make outbound requests.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"debugging\" style=\"position:relative;\"><a href=\"#debugging\" aria-label=\"debugging permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Debugging</h2>\n<h3 id=\"debugging-within-the-browser\" style=\"position:relative;\"><a href=\"#debugging-within-the-browser\" aria-label=\"debugging within the browser permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Debugging within the Browser</h3>\n<p>Open up your browser&apos;s console, (instructions for <a href=\"https://developers.google.com/web/tools/chrome-devtools/console/\">Chrome</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Tools/Browser_Console#Opening_the_Browser_Console\">Firefox</a>, <a href=\"https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide/console\">IE/EDGE</a>, <a href=\"https://support.apple.com/guide/safari/use-the-developer-tools-in-the-develop-menu-sfri20948/mac\">Safari</a> ) and type in <code class=\"language-text\">analytics.debug()</code>. If there is no error, refresh the page and view your browser&apos;s console again.</p>\n<p>This will have Analytics.js log out all the actions that it takes, as well as when it triggers an action for any client-side destinations.</p>\n<h3 id=\"debugging-within-the-metarouter-app\" style=\"position:relative;\"><a href=\"#debugging-within-the-metarouter-app\" aria-label=\"debugging within the metarouter app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Debugging within the MetaRouter App</h3>\n<p>We provide a live event logger within your Source&apos;s dashboard. Select the Source you want to inspect from your <a href=\"https://app.metarouter.io/clickstream\">Sources list</a>, then click on the <strong>Logs</strong> tab. This will show a copy of each event and it&apos;s payload to help you understand what our platform receives. Even if you are only using client-side sources, a copy of your event should show in this list.</p>\n<p>The Logger can only display events that are triggered while it is open, and their may be a delay of a few seconds as our platform processes the event. If your event or events do not show, then use the <strong>Debugging within the Browser</strong> steps to ensure that the event is being sent.</p>\n<h2 id=\"faq\" style=\"position:relative;\"><a href=\"#faq\" aria-label=\"faq permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>FAQ</h2>\n<h3 id=\"can-i-run-both-metarouters-snippet-and-other-analytics-tools-at-the-same-time\" style=\"position:relative;\"><a href=\"#can-i-run-both-metarouters-snippet-and-other-analytics-tools-at-the-same-time\" aria-label=\"can i run both metarouters snippet and other analytics tools at the same time permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"/></svg></a>Can I run both MetaRouter&apos;s snippet and other analytics tools at the same time?</h3>\n<p>Depending on the tools, there could be conflicts in where functionality is overwritten by our snippet or the tracking tools logic. This is beacuse the names of the functions are the same, regardless of who loads it, and JavaScript will overwrite one part of data with another if they share the same name.</p>\n<p>There are three types of conflict resolution to expect across all destinations that we offer:</p>\n<ol>\n<li><strong>Automatic Conflict Resolution</strong> - These are destinations that expect that a separate, duplicate copy can exist at the same time. Google Analytics is an example of this.</li>\n<li><strong>Manual Conflict Resolution</strong> - These are destinations that require a setting to be specified in order to prevent conflicts. Facebook Pixel&apos;s <a href=\"/cloud-destinations/facebook-pixel/#additional-features\">Send All Events as Single Events</a> is an example of this.</li>\n<li><strong>No Conflict Resolution</strong> - These destinations do not have any functionality to handle multiple versions of themselves being loaded in at the same time.</li>\n</ol>\n<p><strong>We do not support using Segment Analytics and this SDK at the same time</strong>. Because both products use the same open-source project as the basis of their functionality, there are unavoidable conflicts for functionality. Instead, we recommend using an A/B test to send a portion of traffic to each snippet (for comparison reasons) or by leveraging the Webhooks Destination to forward a copy of the event from our system to Segment (this will only work for Segment&apos;s Cloud-Enabled Destinations)</p></body></html>\n    </section>\n    <div class=\"section-border\"></div>\n  "}}}